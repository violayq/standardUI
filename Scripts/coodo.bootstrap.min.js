+function(a){a.parser={auto:true,plugins:["layout","panel","grid","navbar","tabs","accordion","dialog","linkButton","selectPicker","autoComplete","comboArea","treeView"],parse:function(f){for(var b=0;b<a.parser.plugins.length;b++){var d=a.parser.plugins[b];if(f&&f.eq(0).hasClass("coodo-"+d)){this.initPlugin(f.eq(0),d)}var c=a(".coodo-"+d,f);if(c.length){this.initPlugin(c,d)}}},initPlugin:function(c,b){if(c[b]){c[b]()}},parseOptions:function(h){var f=a(h);var c={};var g=a.trim(f.attr("data-options"));if(g){var b=g.substring(0,1);var d=g.substring(g.length-1,1);if(b!="{"){g="{"+g}if(d!="}"){g=g+"}"}c=(new Function("return "+g))()}return c}};a(function(){if(a.parser.auto){a.parser.parse()}});a.getGuid=function(){var c=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};var b=(c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());return b.replace(/[-]/g,"").toUpperCase()};a.parseBool=function(b){if(typeof b=="string"){return !!b.toLowerCase().replace(/false/g,"")}else{return false}};a.expr[":"].icontains=function(d,b,c){return a(d).text().toUpperCase().indexOf(c[3].toUpperCase())>=0}}(jQuery);+function(b){function a(i,f,k){var d=b(i).width();var g=b(i).height();if(i!=window){d+=(+b(i).css("padding-left").replace("px",""))+(+b(i).css("padding-right").replace("px",""))+(+b.isNumeric(b(i).css("border-left-width").replace("px",""))||0)+(+b.isNumeric(b(i).css("border-right-width").replace("px",""))||0);g+=(+b(i).css("padding-top").replace("px",""))+(+b(i).css("padding-bottom").replace("px",""))+(+b(i).css("border-top-width").replace("px","")||0)+(+b(i).css("border-bottom-width").replace("px","")||0);var c=b(i).css("border-radius");if(c&&+c.replace("px","")){f.css("border-radius",c)}}f.width(d);f.height(g);var j=b(i).offset()||{top:0,left:0};f.offset(j);k.offset({top:f.offset().top+g/2-10,left:f.offset().left+(d-k.width())/2})}b.fn.openMask=function(f){var h=this[0];var g=b.extend({},b.fn.maskDefault,f||{});var c=b(h).attr("maskId");var d;var i;if(c){d=b("#mask-"+c.id);i=b("#maskInfo-"+c.id)}else{b(h).attr("maskId",c=b.getGuid())}if(!d||!d.length){d=b('<div class="coodo-mask text-center" />').attr("id","mask-"+c);i=b('<div class="coodo-maskInfo" />').attr("id","maskInfo-"+c);if(g.iconCls){i.append(b("<i/>").addClass(g.iconCls))}if(g.msg){i.append("&nbsp;"+g.msg)}if(h==window||b(h).is("body")){b("body").append(d);b("body").append(i)}else{b(h).after(d).after(i)}}a(h,d,i);if(h==window){b("body").addClass("coodo-openMask")}else{b(h).addClass("coodo-openMask")}b(window).on("resize.mask",function(){a(h,d,i)})};b.fn.resizeMask=function(){var f=this[0];var c=b(f).attr("maskId");var d;var g;if(c){d=b("#mask-"+c);g=b("#maskInfo-"+c);if(d.length&&g.length){a(f,d,g)}}};b.fn.closeMask=function(){var d=this[0];var c=b(d).attr("maskId");if(c){b("#mask-"+c+",#maskInfo-"+c).remove()}if(d==window){b("body").removeClass("coodo-openMask")}else{b(d).removeClass("coodo-openMask")}b(d).off(".mask").removeAttr("maskId")};b.fn.maskDefault={iconCls:"coodo-loading",msg:"loading..."}}(jQuery);+function(f){function h(j){var i=f(j).data("pagination").options;b(j);c(j);if(i.total){d(j,1,i.total)}g(j);f(j).addClass("row coodo-pagination")}function c(l){var k=f.data(l,"pagination");var j=k.options;var i=f(l).find(">.pageSelect>.pagination");f(l).off(".pagination");f(l).on("click.pagination",'.pagination>li>a[aria-label="Home"]',function(){if(f(this).parent().hasClass("disabled")){return}j.pageNumber=1;var m=i.find('>li:has(a[pageNumber=1][aria-label="Normal"])');i.find("li.active").removeClass("active");if(m.length){m.addClass("active")}else{d(l,1,j.total)}g(l);j.onSelectPage.call(this,f(this).attr("pageNumber"),j.pageSize)});f(l).on("click.pagination",'.pagination>li>a[aria-label="End"]',function(){if(f(this).parent().hasClass("disabled")){return}var o=Math.ceil(j.total/j.pageSize);var m=i.find("li:has(a[pageNumber="+o+'][aria-label="Normal"])');if(m.length){i.find("li.active").removeClass("active");m.addClass("active")}else{var n=o>j.showPage?(Math.ceil(o/j.showPage)-1)*j.showPage+1:1;d(l,n,j.total);i.find("li.active").removeClass("active");i.find("li:has(a[pageNumber="+o+'][aria-label="Normal"])').addClass("active")}j.pageNumber=o;g(l);j.onSelectPage.call(this,f(this).attr("pageNumber"),j.pageSize)});f(l).on("click.pagination",'.pagination>li>a[aria-label="More"]',function(){j.pageNumber=+f(this).attr("pageNumber");d(l,j.pageNumber,j.total);g(l);j.onSelectPage.call(this,f(this).attr("pageNumber"),j.pageSize)});f(l).on("click.pagination",'.pagination>li>a[aria-label="Normal"]',function(n){var m=f(this).attr("pageNumber");if(j.pageNumber==m){return}j.pageNumber=m;i.find("li.active").removeClass("active");f(this).parent().addClass("active");g(l);j.onSelectPage.call(this,j.pageNumber,j.pageSize)})}function b(l){var k=f.data(l,"pagination").options;if(!f(l).find(".pageInfo,.pageSelect").length){var j=f('<div class="col-md-4 pageInfo">提示信息</div>');var i=f('<div class="col-md-8 pageSelect"/>');f('<ul class="pagination"/>').append('<li class="disabled"><a  aria-label="Home" pageNumber="1"><span class="glyphicon glyphicon-step-backward" aria-hidden="true"/></a></li>').append('<li><a aria-label="End"><span class="glyphicon glyphicon-step-forward" aria-hidden="true"/></a></li>').appendTo(i);f(l).append(j).append(i)}}function d(p,r,q){var k=f.data(p,"pagination");var j=k.options;j.pageNumber=r||1;j.total=q||0;var o=k.totalPage=Math.ceil(j.total/j.pageSize);var m=f(p).find(".pageSelect>.pagination");m.find('li:has(a[aria-label!="Home"][aria-label!="End"])').remove();var s=m.children(":eq(0)");var l=r+j.showPage-1;l=l>o?o:l;if(l<o){s.after('<li><a aria-label="More" pageNumber="'+(l+1)+'">...</a></li>')}for(var n=l;n>=r;n--){s=s.after('<li><a aria-label="Normal" pageNumber="'+n+'">'+n+"</a></li>")}if(r>1){s.after('<li><a aria-label="More" pageNumber="'+(r-j.showPage)+'">...</a></li>')}m.find('>li>a[aria-label="End"]').attr("pageNumber",o);m.find('>li:has(a[aria-label="Normal"]):eq(0)').addClass("active")}function g(n){var l=f.data(n,"pagination");var k=l.options;var o=f(n).find(".pageInfo");var j=(k.pageNumber-1)*k.pageSize+1;var i=k.pageNumber*k.pageSize;i=i>k.total?k.total:i;if(!k.total){j=i=0}var m=k.displayMsg.replace("{from}",j).replace("{to}",i).replace("{total}",k.total);o.html(m);a(n)}function a(l){var k=f.data(l,"pagination");var j=k.options;var m=f(l).find('.pagination>li:has(a[aria-label="Home"])');var i=f(l).find('.pagination>li:has(a[aria-label="End"])');if(j.pageNumber==1){m.addClass("disabled")}else{m.removeClass("disabled")}if(j.pageNumber==k.totalPage){i.addClass("disabled")}else{i.removeClass("disabled")}}f.fn.pagination=function(i,k){if(typeof i=="string"){return f.fn.pagination.methods[i](this,k)}var j=i||{};return this.each(function(){var l=f(this).data("pagination");if(l){f.extend(l.options,j)}else{f.data(this,"pagination",{options:f.extend({},f.fn.pagination.defaults,f.parser.parseOptions(this),j),totalPage:0})}h(this)})};f.fn.pagination.methods={options:function(i){return f.data(i[0],"pagination").options},build:function(j,i){j.each(function(){d(this,1,i);g(this)});return j}};f.fn.pagination.defaults={total:0,pageSize:10,pageNumber:1,showPage:5,displayMsg:"显示 {from} 至 {to} 项，共 {total} 项",onSelectPage:function(j,i){}}}(jQuery);+function(d){function f(g){b(g)}function b(i){var h=d.data(i,"drag");var g=h.options;h.handle=g.handle?(typeof g.handle=="string"?d(g.handle,i):g.handle):d(i);h.handle.css("cursor",g.cursor).off(".drag").on("mousedown.drag",function(l){if(l.which==2||l.which==3){return}if(g.onBeforeDrag.call(i,l)==false){return}var m=d(i).offset();var j=l.pageX-m.left,n=l.pageY-m.top;if(g.proxy){if(typeof g.proxy=="function"){h.proxy=g.proxy.call(i)}else{if(g.proxy=="clone"){h.proxy=d(i).clone().width(d(i).outerWidth()).height(d(i).outerHeight()).removeAttr("id").css({position:"absolute",opacity:"0.5"}).insertAfter(i).offset(m)}else{var k=d(g.proxy);h=k.length?k:null}}}else{h.proxy=d(i)}h.proxy.css("z-index",9999);d(document).off(".drag").on("mousedown.drag",function(o){g.onStartDrag.call(i,o)}).on("mousemove.drag",{proxy:h.proxy,left:0,top:0},function(o){d("body").on("selectstart",function(){return false}).addClass("disabledSelect");o.data.left=o.pageX-j+(g.deltaX||0);o.data.top=o.pageY-n+(g.deltaY||0);if(g.onDrag.call(i,o)==false){return}var p={left:o.data.left,top:o.data.top};if(g.axis){if(g.axis=="v"){delete p.left}else{if(g.axis=="h"){delete p.top}}}h.proxy.offset(p)}).on("mouseup.drag",function(o){h.proxy.css("z-index","auto");if(g.onStopDrag.call(i,o)==false){d(i).animate({left:"",top:""})}else{if(i!=h.proxy[0]){d(i).offset(h.proxy.offset())}}if(g.proxy){h.proxy.remove()}a(i)})})}function a(i){var h=d(i).data("drag");var g=h.options;d("body").off("selectstart").removeClass("disabledSelect");d(document).off(".drag")}function c(h){var g=d(h).data("drag");g.handle.css("cursor","default").off(".drag");a(h)}d.fn.drag=function(g){if(typeof g=="string"){var i=d.fn.drag.methods[g];if(i){return i(this)}}var h=g||{};return this.each(function(){var j=d(this).data("drag");if(j){d.extend(j.options,h)}else{d.data(this,"drag",{options:d.extend({},d.fn.drag.defaults,d.parser.parseOptions(this),h),handle:null,proxy:null})}f(this)})};d.fn.drag.methods={options:function(g){return d.data(g[0],"drag").options},proxy:function(h){var g=d.data(h[0],"drag");if(g.options.proxy){return g.proxy}else{return null}},enable:function(g){g.each(function(){b(this)})},disable:function(g){g.each(function(){c(this)})}};d.fn.drag.defaults={handle:undefined,proxy:undefined,cursor:"move",deltaX:undefined,deltaY:undefined,axis:undefined,onBeforeDrag:function(g){},onStartDrag:function(g){},onDrag:function(g){},onStopDrag:function(g){}}}(jQuery);+function(b){function c(d){b(d).addClass("coodo-linkButton");a(d)}function a(i){var h=b.data(i,"linkButton").options;var d=b(i);if(d.is("a")){d.attr("role","button");d.attr("href","#")}if(h.url&&h.goal){var g=b(h.goal);if(!g.length){g=b.dialog.create(b.extend({},h,{id:h.goal.replace("#","")}))}else{var f=g.dialog("options");if(f){b.extend(f,h,{id:h.goal.replace("#","")})}}d.off("click").click(function(){g.dialog("open")})}}b.fn.linkButton=function(d,g){if(typeof d=="string"){var h=b.fn.linkButton.methods[d];if(h){return h(this,g)}}var f=d||{};return this.each(function(){var i=b.data(this,"linkButton");if(i){b.extend(i.options,f)}else{b.data(this,"linkButton",{options:b.extend({},b.fn.linkButton.defaults,b.parser.parseOptions(this),f)})}c(this)})};b.fn.linkButton.methods={options:function(d){return b.data(d[0],"linkButton").options}};b.fn.linkButton.defaults={url:undefined,goal:undefined}}(jQuery);+function(b){function i(o){var n=b(o).data("panel").options;var q=b(o).find(">.panel-heading");var m=b(o).find(">.panel-body");var p=b(o).find(">.panel-footer");if(!m.length){m=b("<div class='panel-body'/>").append(b(o).contents());b(o).append(m);if(q.length){m.before(q)}if(p.length){m.after(p)}}if(!q.length){q=b("<div class='panel-heading'/>");b('<div class="coodo-panel-header-title" ><i/>&nbsp;<span /></div>').appendTo(q);b('<div class="coodo-panel-header-tool"/>').appendTo(q);m.before(q)}if(!p.length){p=b("<div class='panel-footer'/>");m.after(p)}else{n.footer=""}b(o).addClass("panel panel-default coodo-panel");l(o)}function l(p){var o=b.data(p,"panel").options;var n=b(p).find(">.panel-heading>.coodo-panel-header-tool");var m=n.find(">i.user-btn:last");if(o.footer){b(p).find(">.panel-footer").html(o.footer)}else{if(o.footer==undefined){b(p).find(">.panel-footer").remove()}}if(o.noheader){b(p).find(">.panel-heading").remove()}else{a(b(p),o.title);if(o.iconCls){b(p).find(">.panel-heading>.coodo-panel-header-title>i").addClass(o.iconCls)}}if(o.tools){if(b.isArray(o.tools)){b.each(o.tools,function(){var q=b('<i class="user-btn" />').addClass(this.iconCls).click(this.handler);if(m.length){m.after(q)}else{n.prepend(q)}m=q})}else{if(m.length){m.after(b(o.tools).children().addClass("user-btn"))}else{n.prepend(b(o.tools).children().addClass("user-btn"))}}}if(o.collapsible){if(!n.find(".btn-collapsible").length){b('<i class="glyphicon glyphicon-chevron-up btn-collapsible" />').click(function(){if(b(this).hasClass("glyphicon-chevron-up")){k(p,this)}else{g(p,this)}}).appendTo(n)}}else{n.children(".btn-collapsible").remove()}if(o.minimizable){if(!n.find(".btn-mini").length){b('<i class="glyphicon glyphicon-minus btn-mini" />').click(function(){h(p)}).appendTo(n)}}else{n.children(".btn-mini").remove()}if(o.maximizable){if(!n.find(".btn-max").length){b('<i class="glyphicon glyphicon-resize-full btn-max" state="normal" />').click(function(){if(b(this).attr("state")=="normal"){f(p)}else{d(p)}}).appendTo(n)}}else{n.children(".btn-max").remove()}if(o.closable){if(!n.find(".btn-close").length){b('<i class="glyphicon glyphicon-remove btn-close" />').click(function(){h(p)}).appendTo(n)}}else{n.children(".btn-close").remove()}if(o.collapsed){b(p).find(">.panel-tools,>.panel-body,>.panel-footer").hide()}if(o.closed){b(p).addClass("hidden")}j(p,o.width,o.height)}function j(o,n,m){if(n){b(o).width(n)}if(m){b(o).find(">.panel-body").height(m).css("overflow","auto")}else{b(o).find(">.panel-body").css("overflow","")}}function a(m,n){if(n){b(m).find(">.panel-heading>.coodo-panel-header-title>span").html(n)}}function k(o,m){var n=b.data(o,"panel").options;if(n.onBeforeCollapse.call(o)){n.collapsed=true;if(!m){m=b(o).find(">.panel-heading>.coodo-panel-header-tool>.btn-collapsible")}b(m).removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down");if(n.animate){b(o).find(".panel-tools,.panel-body,.panel-footer").slideUp(100)}else{b(o).find(".panel-tools,.panel-body,.panel-footer").hide()}n.onCollapse.call(o)}}function g(o,m){var n=b.data(o,"panel").options;if(n.onBeforeExpand.call(o)){n.collapsed=false;if(!m){m=b(o).find(">.panel-heading>.coodo-panel-header-tool>.btn-collapsible")}b(m).removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up");if(n.animate){b(o).find(">.panel-tools,>.panel-body,>.panel-footer").slideDown(100)}else{b(o).find(">.panel-tools,>.panel-body,>.panel-footer").show()}n.onExpand.call(o)}}function f(q){var p=b.data(q,"panel");var o=p.options;o.maximized=true;b(q).find(">.panel-heading>.coodo-panel-header-tool>.btn-max").attr("state","max").removeClass("glyphicon-resize-full").addClass("glyphicon-resize-small");if(!p.original){p.original={width:o.width||b(q).width(),height:o.height||b(q).find(">.panel-body").outerHeight()}}var m=b(q).parent().width();if(m>b(window).width()){m=b(window).width()*0.9}var n=b(q).parent().height();if(n>b(window).height()){n=b(window).height()*0.9}n=n-b(q).find(">.panel-heading").height()||0-b(q).find(">.panel-footer").height()||0;if(o.animate){b(q).animate({width:m},100);b(q).find(">.panel-body").animate({height:n,overflow:"auto"},100)}else{j(q,m,n)}o.onMaximize.call(q)}function d(o){var n=b.data(o,"panel");var m=n.options;m.maximized=false;if(n.original){b(o).find(">.panel-heading>.coodo-panel-header-tool>.btn-max").attr("state","normal").removeClass("glyphicon-resize-small").addClass("glyphicon-resize-full");if(m.animate){b(o).animate({width:n.original.width},200);b(o).find(">.panel-body").animate({height:n.original.height},200)}else{j(o,n.original.width,n.original.height)}m.onRestore.call(o)}}function h(n){var m=b.data(n,"panel").options;if(m.animate){b(n).slideUp()}else{b(n).addClass("hidden")}m.onClose.call(n)}function c(n){var m=b.data(n,"panel").options;if(m.animate){b(n).slideDown()}else{b(n).removeClass("hidden")}m.onOpen.call(n)}b.fn.panel=function(m,o){if(typeof m=="string"){var p=b.fn.panel.methods[m];if(p){return p(this,o)}}var n=m||{};return this.each(function(){var q=b(this).data("panel");if(q){b.extend(q.options,n)}else{b.data(this,"panel",{options:b.extend({},b.fn.panel.defaults,b.parser.parseOptions(this),n,{title:b(this).attr("title")}),original:null})}b(this).removeAttr("title");i(this)})};b.fn.panel.methods={options:function(m){return b.data(m[0],"panel").options},reSize:function(n,m){n.each(function(){j(this,m.width,m.height)})},open:function(m){m.each(function(){c(this)})},close:function(m){m.each(function(){h(this)})},collapse:function(m){m.each(function(){k(this)})},expand:function(m){m.each(function(){g(this)})},setTitle:function(n,m){n.each(function(){a(this,m)})},maximize:function(m){m.each(function(){f(this)})},minimize:function(m){m.each(function(){h(this)})},restore:function(m){m.each(function(){d(this)})},header:function(m){return m.find(">.panel-heading")},body:function(m){return m.find(">.panel-body")}};b.fn.panel.defaults={title:"",footer:undefined,collapsible:false,collapsed:false,closable:false,closed:false,noheader:false,iconCls:undefined,width:undefined,height:undefined,minimizable:false,maximizable:false,maximized:false,animate:true,buttons:undefined,tools:undefined,onOpen:function(){},onClose:function(){},onBeforeCollapse:function(){return true},onCollapse:function(){},onBeforeExpand:function(){return true},onExpand:function(){},onMaximize:function(){},onRestore:function(){}}}(jQuery);+function(c){function j(n){c(n).addClass("coodo-tabs");b(n);l(n);m(n)}function l(t){var n=c.data(t,"tabs").options;var r=c(t).find(">:not(.tab-content,.coodo-tabs-tag)");var w=c(t).find(">.coodo-tabs-tag");if(r.length){r.each(function(x){var y=i(t,{title:c(this).attr("title"),closable:c.parseBool(c(this).attr("closable"))},c(this));if(x==0){y.addClass("active in");w.find(">.nav>li:eq(0)").addClass("active")}})}if(n.tabsType){w.find(">.nav").removeClass("nav-tabs nav-pills").addClass("nav-"+n.tabsType)}if(n.scrolled){if(!w.find(">i").length){var u=w.find(">.nav");var v=c('<i class="glyphicon glyphicon-arrow-left pull-left tabs-scroll-left"></i>').insertBefore(u);var s=c('<i  class="glyphicon glyphicon-arrow-right pull-right tabs-scroll-right"></i>').insertBefore(u);var q=c('<div class="btn-group pull-right"></div>').insertBefore(s);var p=c('<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">关闭操作<span class="caret"></span></a>').appendTo(q);var o=c('<ul class="dropdown-menu dropdown-menu-right" role="menu"></ul>').append('<li class="tabShowActive"><a href="javascript:void(0);">定位当前选项卡</a></li>').append('<li class="divider"></li>').append('<li class="tabCloseAll"><a  href="javascript:void(0);">关闭全部选项卡</a></li>').append('<li class="tabCloseOther"><a  href="javascript:void(0);">关闭其他选项卡</a></li>').appendTo(q);c(t).addClass("tabs-scroll")}}else{c(t).removeClass("tabs-scroll");w.find(">i").remove();w.find(">.btn-group").remove()}if(n.fit){c(t).addClass("coodo-tabs-fit");f(t);c(window).resize(function(){f(t)})}else{c(t).removeClass("coodo-tabs-fit");if(n.height){c(t).find(">.tab-content").height(n.height)}if(n.width){c(t).width(n.width)}}}function f(o){var n=c(o).parent().height();var p=c(o).parent();if(p.is("body")){n=c(window).height()-(+c("body").css("padding-top").replace("px",""))-(+c("body").css("padding-bottom").replace("px",""))-(+c("body").css("border-top-width").replace("px","")||0)-(+c("body").css("border-bottom-width").replace("px","")||0)}n-=c(o).find("ul.nav").height();c(o).find(">.tab-content").height(n)}function m(p){var o=c.data(p,"tabs").options;var n=c(p).find(">.coodo-tabs-tag");var q=n.find(">.nav");c(p).find('a[data-toggle="tab"]').off(".tab").on("shown.bs.tab",function(r){var s=g(p,r.target.text);o.onSelect.call(g(p,r.target.text)[0],s.attr("id"))});c(p).off(".tabs");c(p).on("click.tabs",">.coodo-tabs-tag>.nav>li>.close",function(){var r=c(this).parent().index();k(p,r)});c(p).on("click.tabs",">.coodo-tabs-tag>i",function(){var r=0;if(c(this).hasClass("tabs-scroll-left")){r=q.scrollLeft()-q.width()}else{r=q.scrollLeft()+q.width()}q.animate({scrollLeft:r},400)});c(p).on("click",">.coodo-tabs-tag>.btn-group .tabShowActive",function(){var u=q.children(".active");var t=r(u.prevAll());var s=c("#tab2>.nav").outerWidth();var v=Math.floor(t/s)*s;q.animate({scrollLeft:v},400);function r(x){var w=0;c(x).each(function(){w+=c(this).outerWidth(true)});return w}});c(p).on("click",">.coodo-tabs-tag>.btn-group .tabCloseAll",function(){c(p).find(">.coodo-tabs-container").children().each(function(){var r=c(this).attr("id");if(q.find('>li>a[href="#'+r+'"]').prev(".close").length){k(p,r)}})});c(p).on("click",">.coodo-tabs-tag>.btn-group .tabCloseOther",function(){c(p).find(">.coodo-tabs-container").children().not(".active").each(function(){var r=c(this).attr("id");if(q.find('>li>a[href="#'+r+'"]').parent().find(">.close").length){k(p,r)}})})}function b(p){var n=c(p).find(">.coodo-tabs-tag");if(!n.length){n=c('<div class="coodo-tabs-tag"><ul class="nav" /></div>').appendTo(p)}var o=c(p).find(">.coodo-tabs-container");if(!o.length){o=c('<div class="tab-content coodo-tabs-container" />').appendTo(p)}}function i(u,q,p){var t=c.data(u,"tabs").options;var s=c.extend({},c.fn.tabs.panelDefaults,q);var r=c(u).find(">.coodo-tabs-tag>ul");var o=c(u).find(">.coodo-tabs-container");if(s.title&&!h(u,s.title)){var n=c("<li />").append(c('<a data-toggle="tab" />').text(s.title).attr({href:"#"+s.title})).appendTo(r);if(s.closable){c('<i class="close">&times;</i>').insertBefore(n.find("a"))}p.removeAttr("title").addClass("tab-pane").attr({id:s.title,role:"tabpanel"}).appendTo(o);if(t.fade){p.addClass("fade")}return p}}function h(o,p){var n=g(o,p);return n.length>0}function a(p,r){var o=c.data(p,"tabs").options;var n;if(o.singlePages){n=c("<div/>").append(r.content)}else{n=c('<iframe frameborder="0" src="'+r.content+'"></iframe>')}var q=i(p,r,n);if(c(p).find(">.nav>li").length==1){d(p)}if(q){o.onAdd.call(q[0])}}function k(q,n){var p=c.data(q,"tabs").options;var r,o;if(!isNaN(n)){c(q).find(">.coodo-tabs-tag>.nav>li").eq(n).remove();r=c(q).find(">div.coodo-tabs-container>.tab-pane").eq(n)}else{c(q).find('>.coodo-tabs-tag>.nav>li>a[href="#'+n+'"]').parent().remove();r=c(q).find('>div.coodo-tabs-container>.tab-pane[id="'+n+'"]')}if(r.hasClass("active")){if(r.next().length){o=r.next().attr("id")}else{o=r.prev().attr("id")}}r.remove();if(o){d(q,o)}p.onRemove.call(r[0])}function g(o,n){if(!isNaN(n)){return c(o).find(">div.coodo-tabs-container>.tab-pane").eq(n)}else{return c(o).find('>div.coodo-tabs-container>.tab-pane[id="'+n+'"]')}}function d(q,o){var p=c.data(q,"tabs").options;var n=o==null||o==undefined?0:o;if(c.isNumeric(n)){c(q).find(">.coodo-tabs-tag>.nav>li:eq("+n+")>a").tab("show")}else{c(q).find(">.coodo-tabs-tag>.nav>li>a[href=#"+n+"]").tab("show")}}c.fn.tabs=function(n,p){if(typeof n=="string"){var q=c.fn.tabs.methods[n];if(q){return q(this,p)}}var o=n||{};return this.each(function(){var r=c(this).data("tabs");if(r){c.extend(r.options,o)}else{c.data(this,"tabs",{options:c.extend({},c.fn.tabs.defaults,c.parser.parseOptions(this),o)})}j(this)})};c.fn.tabs.methods={options:function(n){return c.data(n[0],"tabs").options},tabs:function(n){return n.eq(0).find(">div.coodo-tabs-container>div")},add:function(o,n){o.each(function(){a(this,n)})},remove:function(o,n){o.each(function(){k(this,n)})},getTab:function(o,n){return g(o.eq(0),n)[0]},getSelected:function(n){return n.eq(0).find(">div.coodo-tabs-container>div.active")[0]},select:function(o,n){o.each(function(){d(this,n)})},exists:function(o,n){return h(o[0],n)}};c.fn.tabs.defaults={tabsType:"tabs",height:undefined,width:undefined,fade:true,fit:false,singlePages:true,scrolled:false,onSelect:function(n){},onAdd:function(){},onRemove:function(){}};c.fn.tabs.panelDefaults={title:"",content:undefined,closable:false}}(jQuery);+function(g){function i(k){g(k).addClass("coodo-accordion");var j=g.data(k,"accordion").options;var l=g(k).find(">div");l.each(function(m){b(k,this)});d(k);c(k)}function d(k){var j=g.data(k,"accordion").options;if(j.width){g(k).width(j.width)}if(g.isNumeric(j.selected)){g(k).children(":eq("+j.selected+")").panel("expand")}}function c(k){var j=g(k).data("accordion").options;g(k).off(".accordion");g(k).on("click.accordion",">.coodo-panel>.panel-heading",function(){var l=g(this).parent();if(l.hasClass("expand")){l.panel("collapse")}else{l.panel("expand");j.onSelect.call(l,l.panel("options").title)}})}function b(n,k,j){var l=g.data(n,"accordion").options;var m=g(k);m.panel(g.extend({},{title:g(k).attr("title"),collapsed:true,animate:l.animate},j||{},{onBeforeExpand:function(){if(!l.multiple){g(this).siblings(".expand").each(function(){g(this).removeClass("expand").panel("collapse")})}return true},onExpand:function(){g(this).addClass("expand")},onCollapse:function(){g(this).removeClass("expand")}}));return m}function h(l,j){var k=g.data(l,"accordion").options;b(l,"<div />",j).appendTo(l);k.onAdd.call(l,j.title)}function a(l,m){var k=g.data(l,"accordion").options;var j=true;if(k.onBeforeRemove){j=k.onBeforeRemove.call(l,m)}if(j){f(g(l),m).remove();k.onRemove.call(l,m)}}function f(j,k){return j.find('>.coodo-panel:has(.coodo-panel-header-title>span:contains("'+k+'"))')}g.fn.accordion=function(j,l){if(typeof j=="string"){return g.fn.accordion.methods[j](this,l)}var k=j||{};return this.each(function(){var m=g(this).data("accordion");if(m){g.extend(m.options,k)}else{g.data(this,"accordion",{options:g.extend({},g.fn.accordion.defaults,g.parser.parseOptions(this),k)})}i(this)})};g.fn.accordion.methods={options:function(j){return g.data(j[0],"accordion").options},panels:function(j){return j.find(">.coodo-panel")},getPanel:function(k,j){return f(k,j)},select:function(k,j){f(k,j).panel("expand")},getSelected:function(j){return j.find(">.coodo-panel.expand")},add:function(k,j){k.each(function(){h(this,j)})},remove:function(k,j){k.each(function(){a(this,j)})}};g.fn.accordion.defaults={width:undefined,animate:true,selected:0,multiple:false,onSelect:function(j){},onAdd:function(j){},onBeforeRemove:undefined,onRemove:function(j){}}}(jQuery);+function(m){function z(K){var I=m.data(K,"grid").options;var G={},H,J;if(!I.title){G.noheader=true}H=m(K).parents(".coodo-grid-panel:eq(0)");if(!H.length){H=m('<div class="coodo-grid-panel" />');if(G.noheader){H.addClass("coodo-grid-panel-noBorder")}H=H.panel(m.extend({},I,G)).insertBefore(K)}J=H.panel("body");if(!I.height){J.css("overflow","visible")}if(!m(K).parent().is(J)){J.append(K)}m(K).addClass("table coodo-grid");x(K);p(K)}function x(M){var K=m.data(M,"grid").options;var G;if(K.striped){m(M).addClass("table-striped")}else{m(M).removeClass("table-striped")}if(K.bordered){m(M).addClass("table-bordered")}else{m(M).removeClass("table-bordered")}if(K.hover){m(M).addClass("table-hover")}else{m(M).removeClass("table-hover")}if(K.condensed){m(M).addClass("table-condensed")}else{m(M).removeClass("table-condensed")}if(K.pagination){if(!m(M).next(".coodo-pagination").length){G=m("<div />").pagination({pageSize:K.pageSize,showPage:K.showPage,displayMsg:K.displayMsg,onSelectPage:function(N){f(M,{pageNumber:N})}});if(K.condensed){G.addClass("pagination-condensed")}else{G.removeClass("pagination-condensed")}m(M).after(G)}}else{m(M).next(".coodo-pagination").remove()}if(K.columns&&K.columns.length){if(m.isArray(K.columns[0])){var H=[];m.each(K.columns,function(){H.push([].concat(this))});K.dataColumns=i(H,0,K.columns[0].length);b(M)}else{q(M)}}if(K.data){var L={};if(m.isArray(K.data)){L.total=K.data.length;L.rows=K.data}else{L=K.data}c(M,L,function(O,N){if(G){G.pagination("build",N)}})}else{if(K.url&&typeof K.url=="string"){f(M,null,function(O,N){if(G){G.pagination("build",N)}})}}if(K.toolbar||K.columnChoose){var J=m(M).prev(".coodo-grid-toolbar");if(!J.length){J=m('<div class="coodo-grid-toolbar"><div class="customToolbar" /><div class="sysToolbar" /></div>');m(M).before(J)}if(K.toolbar){var I=J.children(".customToolbar");if(m.isArray(K.toolbar)){m.each(K.toolbar,function(){m("<i />").addClass(this.iconCls).click(this.handler).appendTo(I)})}else{m(K.toolbar).children().appendTo(I)}}if(K.columnChoose){if(!J.find(".sysToolbar>.columnChoose").length){J.children(".sysToolbar").append(A(M))}}else{J.find(".sysToolbar>.columnChoose").remove()}}}function p(I){var H=m.data(I,"grid");var G=H.options;m(I).off(".grid");m(I).on("click.grid",".coodo-grid-data-row>.coodo-grid-data-cell:not(.coodo-grid-checkBox)",function(){var J=m(this).parent();G.onClickCell.call(this,+J.attr("coodo-grid-rowindex"),m(this).attr("field"),m(this).find(">.coodo-grid-data").html())});m(I).on("dblclick.grid",".coodo-grid-data-row>.coodo-grid-data-cell:not(.coodo-grid-checkBox)",function(){var J=m(this).parent();G.onDblClickCell.call(this,+J.attr("coodo-grid-rowindex"),m(this).attr("field"),m(this).find(">.coodo-grid-data").html())});if(!G.disableSelect){m(I).on("click.grid",".coodo-grid-data-row",function(){d(I,m(this))})}m(I).on("dblclick.grid",".coodo-grid-data-row",function(){var J=+m(this).attr("coodo-grid-rowindex");G.onDblClickRow.call(this,J,H.data.rows[J])});m(I).on("click.grid",".coodo-grid-data-row>.coodo-grid-checkBox>:checkbox",function(J){J.stopPropagation()});m(I).on("change.grid",".coodo-grid-data-row>.coodo-grid-checkBox>:checkbox",function(){var J=m(this).parents(".coodo-grid-data-row");if(this.checked){y(I,J)}else{E(I,J)}});m(I).on("change.grid",".coodo-grid-header-row .coodo-grid-selectAll",function(){if(this.checked){m(I).find("input:checkbox").prop("checked",true);if(G.checkOnSelect){m(I).find(".coodo-grid-data-row").each(function(){d(I,m(this))})}}else{m(I).find("input:checkbox").prop("checked",false);if(G.checkOnSelect){m(I).find(".coodo-grid-data-row").each(function(){D(I,m(this))})}}G.onCheckAll.call(this,this.checked)});m(I).on("click.grid",".coodo-grid-header-row>td[coodo-grid-sort]",function(){var L=m(I).find(".coodo-grid-header-row");L.find(">td[coodo-grid-sort]").not(this).attr("coodo-grid-sort","");L.find(">td .caret").removeClass("caret");var J="asc";var K=m(this).find(".btn-group");switch(m(this).attr("coodo-grid-sort")){case"":case"desc":K.addClass("dropup");break;case"asc":K.removeClass("dropup");J="desc";break}K.find("span").addClass("caret");G.sortName=m(this).attr("field");m(this).attr("coodo-grid-sort",J);G.sortOrder=J;f(I);G.onSortColumn.call(I,G.sortName,J)})}function q(L){var K=m.data(L,"grid").options;var M=m(L).find(".coodo-grid-header-row");if(!M.length){M=m('<tr class="coodo-grid-header-row"/>').appendTo(L)}M.children().remove();if(K.rowNumbers){var G=m('<td class="coodo-grid-rowNumber"/>').appendTo(M)}for(var I=0;I<K.columns.length;I++){var H=m.extend({},m.fn.grid.columnDefaults,K.columns[I]);if(!H.checkbox&&H.title==undefined){continue}var J=m("<td />").attr("field",H.field);if(H.checkbox){J.addClass("coodo-grid-checkbox");if(!K.singleSelect){J.append('<input class="coodo-grid-selectAll" type="checkbox" />')}}else{m('<div class="coodo-grid-header" />').attr("title",H.title).text(H.title).appendTo(J)}if(H.sortable){J.attr("coodo-grid-sort","");J.find(">div").append(m('<div class="btn-group dropup"><span>&nbsp;</span></div>'))}if(H.halign||H.align){J.addClass("text-"+(H.halign||H.align))}if(H.width){J.width(H.width)}if(H.hidden){J.addClass("hidden")}M.append(J)}}function b(H){var G=m.data(H,"grid").options;m(H).find(".coodo-grid-header-row").remove();m.each(G.columns,function(K){var N=m('<tr class="coodo-grid-header-row" />');if(K==0&&G.rowNumbers){var M=m('<td class="coodo-grid-rowNumber" />').attr("rowSpan",G.columns.length).appendTo(N);if(G.columnChoose){A(H,M,G.dataColumns)}}for(var J=0;J<this.length;J++){var I=m.extend({},m.fn.grid.columnDefaults,this[J]);if(!I.checkbox&&I.title==undefined){continue}var L=m("<td/>").attr("field",I.field);if(I.checkbox){L.addClass("coodo-grid-checkbox");if(!G.singleSelect){L.append('<input class="coodo-grid-selectAll" type="checkbox" />')}}else{m('<div class="coodo-grid-header" />').attr("title",I.title).text(I.title).appendTo(L)}if(I.sortable){L.attr("coodo-grid-sort","");L.find(">div").append(m('<div class="btn-group dropup"><span>&nbsp;</span></div>'))}if(I.halign||I.align){L.addClass("text-"+(I.halign||I.align))}if(I.width){L.width(I.width)}if(I.rowSpan){L.attr("rowSpan",I.rowSpan)}if(I.colSpan){L.attr("colSpan",I.colSpan)}if(I.hidden){L.addClass("hidden")}N.append(L)}m(H).append(N)})}function f(J,M,L){var I=m.data(J,"grid");var H=I.options;if(M){m.extend(H,M)}var K={};if(H.pagination){m.extend(K,{begin:(H.pageNumber-1)*H.pageSize+1,end:(H.pageNumber-1)*H.pageSize+H.pageSize})}else{m.extend(K,{begin:0,end:Number.MAX_VALUE})}m.extend(K,{pageNumber:H.pageNumber,pageSize:H.pageSize});if(H.queryParams){m.extend(K,H.queryParams)}if(H.sortName){m.extend(K,{sort:H.sortName});if(H.sortOrder){m.extend(K,{order:H.sortOrder})}else{m.extend(K,{order:"asc"})}}m.extend(K,{timeFlag:new Date().toString()});if(H.url){var G=m(J).parent();m.ajax({url:H.url,data:K,type:H.method,dataType:"json",beforeSend:function(){G.openMask({msg:H.loadMsg})},success:function(N){c(J,N,L)},complete:function(){G.closeMask()},error:function(N,P,O){G.closeMask();H.onLoadError.call(J,N,P,O)}})}}function c(J,I,K){var H=m.data(J,"grid");if(!H){return}var G=H.options;H.selectRows.splice(0);m(J).find("tr:not(.coodo-grid-header-row)").remove();m(J).find("tr.coodo-grid-header-row .coodo-grid-selectAll").prop("checked",false);if(I&&I.rows&&I.rows.length){m(J).parent().find(".noRecord").remove();m(J).parent().find(".coodo-pagination").removeClass("hidden");H.data=I;m.each(I.rows,function(L){var M;if(m.isArray(G.columns[0])){M=F(J,this,L)}else{M=C(J,this,L)}m(J).append(M)});m.each(m.grep(G.columns,function(L){if(L&&L.merge){return L}}),function(){var Q=m(J).find('td.coodo-grid-data-cell[field="'+this.field+'"]');if(Q){for(var P=0;P<Q.length;P++){var O=Q[P];var L=0;if(m(O).is(":hidden")){continue}for(var N=P+1;N<Q.length;N++){var M=Q[N];if(m(O).text()==m(M).text()){L++;m(M).hide()}else{break}}if(L>0){m(O).attr("rowspan",L+1).css("vertical-align","middle")}}}})}else{H.data={total:0,rows:[]};m(J).parent().find(".coodo-pagination").addClass("hidden");if(!m(J).parent().find(".noRecord").length){m(J).after('<div class="noRecord">'+G.noRecordMsg+"</div>")}}if(K){K(J,H.data.total)}G.onLoadSuccess.call(J,I)}function C(N,S,P){var G=m.data(N,"grid").options;var Q=(G.pageNumber-1)*G.pageSize+P;var K=m('<tr class="coodo-grid-data-row" />').attr("coodo-grid-rowIndex",P);var I=G.rowStyle(P,S);if(I){K.attr("style",I)}if(G.rowNumbers){K.append(m('<td class="coodo-grid-rowNumber" />').text(Q+1))}for(var L=0;L<G.columns.length;L++){var H=m.extend({},m.fn.grid.columnDefaults,G.columns[L]);if(!H.checkbox&&H.title==undefined){continue}var J=m('<td class="coodo-grid-data-cell" />').attr("field",H.field).appendTo(K);var M=S[G.columns[L].field];if(H.align){J.addClass("text-"+H.align)}if(H.hidden){J.addClass("hidden")}if(H.width){J.width(H.width)}if(H.editor){J.attr("editor",H.editor.type||H.editor)}if(H.checkbox){J.addClass("coodo-grid-checkBox text-center").append('<input type="checkbox" />')}else{var O=m('<div class="coodo-grid-data" />').appendTo(J);if(H.formatter){O.append(H.formatter.call(O,M,S,P))}else{O.attr("title",M).append(M)}}if(H.styler){var R=H.styler.call(J,M,S,P);if(R&&typeof R=="object"){J.css(R)}}}return K}function F(J,L,M){var H=m.data(J,"grid").options;var K=(H.pageNumber-1)*H.pageSize+M;var I=m('<tr class="coodo-grid-data-row" />').attr("coodo-grid-rowIndex",M);var G=H.rowStyle(M,L);if(G){I.attr("style",G)}if(H.rowNumbers){I.append(m('<td class="coodo-grid-rowNumber" />').text(K+1))}m.each(H.dataColumns,function(){var O=m.extend({},m.fn.grid.columnDefaults,this);if(O.title!=undefined||O.checkbox){var Q=m('<td class="coodo-grid-data-cell" />').attr("field",O.field).appendTo(I);var N=L[O.field];if(O.align){Q.addClass("text-"+O.align)}if(O.hidden){Q.addClass("hidden")}if(O.width){Q.width(O.width)}if(O.editor){Q.attr("editor",O.editor.type||O.editor)}if(O.checkbox){Q.addClass("coodo-grid-checkBox text-center").append('<input type="checkbox" />')}else{var P=m('<div class="coodo-grid-data" />').appendTo(Q);if(O.formatter){P.append(O.formatter.call(P,N,L,M))}else{P.attr("title",N).append(N)}}if(O.styler){var R=O.styler.call(Q,N,L,M);if(R&&typeof R=="object"){Q.css(R)}}}});return I}function i(K,I,L){var G=[];for(var J=0;J<L;J++){var H=K[I][J];if(!H){break}if(H.field||H.checkbox){G.push(H)}else{if(H.colSpan){m.each(i(K,I+1,H.colSpan),function(){G.push(this)});if(I>0){L-=H.colSpan-1}}}}K[I].splice(0,L);return G}function t(J,M,G){var I=m.data(J,"grid");var H=I.data;var K;var L=null;if(!H.rows.length){return}if(typeof M=="number"){L=+M}else{if(I.options.idField){m.grep(H.rows,function(O,N){if(O[I.options.idField]==M){L=N}})}}if(L!=undefined&&L!=null&&L<H.rows.length){K=m(J).find("tr[coodo-grid-rowIndex="+L+"]");if(G){d(J,K)}else{D(J,K)}}}function d(K,L){var J=m.data(K,"grid");var I=m.data(K,"grid").options;var M=+L.attr("coodo-grid-rowindex");var H=J.data.rows[M];if(I.singleSelect){var G=m(K).find("tr:gt(0).coodo-grid-data-row-selected");if(G[0]!=L[0]){D(K,G)}}else{if(m.inArray(H,J.selectRows)>-1){D(K,L);return}}I.onClickRow.call(this,M,J.data.rows[M]);if(!L.hasClass("coodo-grid-data-row-selected")){J.selectRows.push(H);L.addClass("coodo-grid-data-row-selected");if(I.selectOnCheck){L.find(".coodo-grid-checkBox>:checkbox").each(function(){this.checked=true});k(K)}I.onSelect.call(L[0],M,H)}}function D(K,M){var J=m.data(K,"grid");var I=m.data(K,"grid").options;if(M.hasClass("coodo-grid-data-row-selected")){var H=+M.attr("coodo-grid-rowindex");var G=J.data.rows[H];var L=m.inArray(G,J.selectRows);if(L>=0){J.selectRows.splice(L,1)}M.removeClass("coodo-grid-data-row-selected");if(I.selectOnCheck){M.find(".coodo-grid-checkBox>:checkbox").each(function(){this.checked=false});k(K)}I.onUnselect.call(M[0],H,G)}}function o(J,G,H){var I=m.data(J,"grid");var L=-1;if(typeof G=="number"){L=G}else{if(I.options.idField){L=B(J,G)}}if(L>=0){var K=m(J).find("tr[coodo-grid-rowIndex="+L+"]");if(H){y(J,K)}else{E(J,K)}}}function y(J,K){var I=m.data(J,"grid");var G=I.options;var H=K.find(">.coodo-grid-checkBox>:checkbox");if(H.length){H.prop("checked",true);if(G.checkOnSelect){d(J,K)}k(J);var L=+K.attr("coodo-grid-rowindex");G.onCheck.call(this,L,I.data.rows[L],true)}}function E(J,K){var I=m.data(J,"grid");var G=I.options;var H=K.find(">.coodo-grid-checkBox>:checkbox");if(H.length){H.prop("checked",false);if(G.checkOnSelect){D(J,K)}k(J);var L=+K.attr("coodo-grid-rowindex");G.onCheck.call(this,L,I.data.rows[L],false)}}function k(I){var H=m.data(I,"grid").options;if(!H.singleSelect){var G=m(I).find("tr:gt(0)>.coodo-grid-checkBox>:checkbox:not(:checked)");if(G.length){m(I).find("tr:eq(0)>td>:checkbox").prop("checked",false)}else{m(I).find("tr:eq(0)>td>:checkbox").prop("checked",true)}}}function h(I,J){var G=m.data(I,"grid").data;var K=+m(I).find("tr:last").attr("coodo-grid-rowIndex");var H=C(I,J,K+1||0);m(I).append(H);G.rows.push(J);G.total++;m(I).parent().find(".noRecord").remove()}function g(K,G,L){var H=m.data(K,"grid").data;var I=null;if(m.isNumeric(+G)&&+G>=0){var J=m(K).find("tr[coodo-grid-rowIndex="+G+"]");if(J.length){m(K).find("tr:gt("+G+")").each(function(){var M=+m(this).attr("coodo-grid-rowIndex")+1;m(this).attr("coodo-grid-rowIndex",M);m(this).find(".coodo-grid-rowNumber").text(M+1)});var I=C(K,L,G);J.before(I);H.rows.splice(G,0,L);H.total++}else{h(K,L)}}}function n(I,G,J){var H=m.data(I,"grid");var K=m(I).find("tr[coodo-grid-rowIndex="+G+"]");if(K.length){m.extend(H.data.rows[G],J);K.find("td:not(.coodo-grid-rowNumber,.coodo-grid-checkBox)").each(function(){var O=m(this).attr("field");var M=r(I,O);var N=J[O]||null;var L=m(this).find(">.coodo-grid-data");if(M&&M.formatter){L.html(M.formatter.call(L,N,J,G))}else{L.attr("title",N).html(N)}})}}function w(K,H){var J=m.data(K,"grid");var L=m(K).find("tr[coodo-grid-rowIndex="+H+"]");if(L.length){m(K).find("tr:gt("+H+")").each(function(){m(this).attr("coodo-grid-rowIndex",+m(this).attr("coodo-grid-rowIndex")-1);m(this).find(".coodo-grid-rowNumber").each(function(){m(this).text(+m(this).text()-1)})});L.remove();var I=J.data.rows.splice(H,1);J.data.total--;var G=m.inArray(I[0],J.selectRows);if(G>=0){J.selectRows.splice(G,1)}}}function a(K,H){var J=m.data(K,"grid");var I=J.options;var L=m(K).find("tr[coodo-grid-rowindex="+H+"]");var G=L.find(".coodo-grid-data-cell");if(I.onBeforeEdit.call(L[0],H,J.data.rows[H])==false){return false}m.each(G,function(){var P=v(I.columns,m(this).attr("field"));if(P.editor&&!m(this).find(".coodo-grid-data").next().length){var M=P.editor.type||P.editor;var Q=P.editor.options||{};var O=m.fn.grid.defaults.editors[M];if(O){m(this).addClass("cell-editing").find(">.coodo-grid-data").hide();var N=m('<div class="cell-editor" />').appendTo(this);N.append(O.init(N,Q));O.setValue(N,m(this).find(".coodo-grid-data").text())}}});I.onBeginEdit.call(L[0],H,J.data.rows[H])}function s(L,I){var K=m.data(L,"grid");var J=K.options;var M=m(L).find("tr[coodo-grid-rowindex="+I+"]");var H=M.find(".coodo-grid-data-cell");var G={};J.onEndEdit.call(M[0],I,K.data.rows[I],G);m.each(H,function(){var R=v(J.columns,m(this).attr("field"));if(R.editor){var N=R.editor.type||R.editor;var Q=m.fn.grid.defaults.editors[N];if(Q){var P=m(this).find(">.cell-editor");var O=Q.getValue(P);m(this).removeClass("cell-editing").find(">.coodo-grid-data").attr("title",O).html(O).show();G[R.field]=O;P.remove()}}});J.onAfterEdit.call(M[0],I,K.data.rows[I],G);l(K.data,I,G)}function u(J,G){var I=m.data(J,"grid");var H=I.options;var K=m(J).find("tr[coodo-grid-rowindex="+G+"]");K.find(">.cell-editing").removeClass("cell-editing");K.find(".cell-editor").remove();K.find(".coodo-grid-data").show();H.onCancelEdit.call(K[0],G,I.data.rows[G])}function v(H,I){var G=null;m.each(H,function(){if(m.isArray(this)){G=v(this,I)}else{if(this.field==I){G=this}}if(G){return false}});return G}function l(I,H,G){var J=I.rows[H];if(J){m.each(G,function(L,K){J[L]=K})}}function A(L){var K=m.data(L,"grid").options;var J=m.isArray(K.columns[0])?K.dataColumns:K.columns;var G=m('<div class="dropdown columnChoose" />');var I=m('<button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" />').appendTo(G);I.append('<span class="glyphicon glyphicon-th-list" />');var H=m('<ul class="dropdown-menu dropdown-menu-right" />').appendTo(G);m.each(J,function(){if(this.field){H.append('<li><a href="javascript:void(0);"><input type="checkbox" '+(this.hidden?"":"checked")+' value="'+this.field+'" />'+this.title+"</a></li>")}});G.find("ul>li>a>input").click(function(){if(this.checked){m(L).grid("showColumn",m(this).val())}else{m(L).grid("hideColumn",m(this).val())}});return G}function B(H,I){var G=m.data(H,"grid");var J=-1;if(G&&G.data&&G.data.rows.length){if(typeof I=="object"){J=m.inArray(I,G.data.rows)}else{m.each(G.data.rows,function(K){if(this[G.options.idField]==I){J=K;return false}})}}return J}function r(J,I){var G=m.data(J,"grid").options.columns;var H;if(m.isArray(G[0])){m.each(G,function(){m.each(this,function(){if(this.field==I){H=this;return false}})})}else{m.each(G,function(){if(this.field==I){H=this;return false}})}return H}function j(L,H,K){var J=m.data(L,"grid").options;var M=v(J.columns,K);var G=M.editor.type||M.editor;var I;if(G){switch(G){case"text":I=m(L).find(".coodo-grid-data-row:eq("+H+'>.coodo-grid-data-cell[field="'+K+'"]>.cell-editor>:text:eq(0))');break;case"textArea":I=m(L).find(".coodo-grid-data-row:eq("+H+'>.coodo-grid-data-cell[field="'+K+'"]>.cell-editor>textArea:eq(0))');break;case"checkbox":I=m(L).find(".coodo-grid-data-row:eq("+H+'>.coodo-grid-data-cell[field="'+K+'"]>.cell-editor>:checkbox:eq(0))');break;case"numberbox":I=m(L).find(".coodo-grid-data-row:eq("+H+'>.coodo-grid-data-cell[field="'+K+'"]>.cell-editor>input[type="number"]:eq(0))');break;case"select":I=m(L).find(".coodo-grid-data-row:eq("+H+')>.coodo-grid-data-cell[field="'+K+'"]>.cell-editor>.coodo-selectPicker:eq(0)');break}}if(I&&I.length){return I[0]}else{return null}}m.fn.grid=function(G,I){if(typeof G=="string"){var J=m.fn.grid.methods[G];if(J){return m.fn.grid.methods[G](this,I)}else{return this.parents(".coodo-panel:eq(0)").panel(G,I)}}var H=G||{};return this.each(function(){var K=m(this).data("grid");if(K){m.extend(K.options,H)}else{m.data(this,"grid",{options:m.extend({},m.fn.panel.defaults,m.fn.grid.defaults,m.parser.parseOptions(this),H),selectRows:[],data:{total:0,rows:[]}})}z(this)})};m.fn.grid.methods={options:function(G){return m.data(G[0],"grid").options},getPanel:function(G){return G.eq(0).parents(".coodo-grid-panel:eq(0)")[0]},getPager:function(G){return G.eq(0).parent().children(".coodo-pagination")[0]},getData:function(G){return m.data(G[0],"grid").data},getChecked:function(J){var I=m.data(J[0],"grid").data;var G=[];var H=J.eq(0).find("tr:has(>.coodo-grid-checkBox>:checked)");m.each(H,function(){G.push(I.rows[+m(this).attr("coodo-grid-rowindex")])});return G},getSelected:function(H){var G=m.data(H[0],"grid").selectRows;if(G.length){return G[0]}else{return null}},getSelections:function(G){return m.data(G[0],"grid").selectRows},getRow:function(H,G){return m.data(H[0],"grid").data.rows[G]},getRowIndex:function(H,G){return B(H[0],G)},load:function(H,G){H.each(function(){var I=m.data(this,"grid").options;f(this,{pageNumber:1,queryParams:G},function(K,J){if(I.pagination){m(K).next(".coodo-pagination").pagination("build",J)}})})},reload:function(H,G){H.each(function(){f(this,{queryParams:G})})},loadData:function(H,G){H.each(function(){c(this,G)})},selectRow:function(H,G){t(H[0],G,true)},unselectRow:function(H,G){t(H[0],G)},checkRow:function(H,G){H.each(function(){o(this,G,true)})},uncheckRow:function(H,G){H.each(function(){o(this,G,false)})},clearSelections:function(G){G.each(function(){var H=m.data(this,"grid");H.selectRows.splice(0);m(this).find("tr>td.coodo-grid-checkBox>:checkbox").each(function(){this.checked=false});m(this).find("tr:gt(0)").removeClass("coodo-grid-data-row-selected")})},appendRow:function(H,G){H.each(function(){h(this,G)})},insertRow:function(H,G){H.each(function(){g(this,G.index,G.row)})},updateRow:function(H,G){H.each(function(){n(this,G.index,G.row)})},deleteRow:function(H,G){H.each(function(){w(this,G)})},showColumn:function(H,G){H.each(function(){var I=m.data(this,"grid").options;m.each(I.columns,function(){if(m.isArray(this)){m.each(this,function(){if(!this.checkbox&&this.field===G){delete this["hidden"]}})}else{if(!this.checkbox&&this.field===G){delete this["hidden"]}}})});H.find("tr>td[field="+G+"]").removeClass("hidden")},hideColumn:function(H,G){H.each(function(){var I=m.data(this,"grid").options;m.each(I.columns,function(){if(m.isArray(this)){m.each(this,function(){if(!this.checkbox&&this.field===G){this["hidden"]=true}})}else{if(!this.checkbox&&this.field===G){this["hidden"]=true}}})});H.find("tr>td[field="+G+"]").addClass("hidden")},beginEdit:function(H,G){a(H[0],G)},endEdit:function(H,G){s(H[0],G)},cancelEdit:function(H,G){u(H[0],G)},getEditor:function(H,G){return j(H[0],G.index,G.field)}};m.fn.grid.defaults={columns:undefined,dataColumns:undefined,idField:undefined,data:undefined,url:undefined,method:"Get",rowNumbers:true,sortName:undefined,sortOrder:undefined,queryParams:undefined,singleSelect:false,checkOnSelect:true,selectOnCheck:true,disableSelect:false,loadMsg:"loading......",noRecordMsg:"没有符合条件的记录！",striped:true,bordered:true,hover:true,condensed:false,pagination:false,pageSize:10,pageNumber:1,showPage:5,toolbar:undefined,columnChoose:undefined,rowStyle:function(G,H){},onLoadSuccess:function(G){},onLoadError:function(G,I,H){},onClickCell:function(I,H,G){},onDblClickCell:function(I,H,G){},onClickRow:function(H,G){},onDblClickRow:function(H,G){},onSelect:function(H,G){},onUnselect:function(H,G){},onCheck:function(H,G){},onCheckAll:function(G){},onBeforeEdit:function(H,G){},onBeginEdit:function(H,G){},onEndEdit:function(H,G){},onAfterEdit:function(I,H,G){},onCancelEdit:function(H,G){},onSortColumn:function(H,G){}};m.fn.grid.defaults.editors={text:{init:function(H){var G=m('<input type="text" class="form-control" />').click(function(I){I.stopPropagation()});return G},getValue:function(G){return G.find(">input:eq(0)").val()},setValue:function(H,G){H.find(">input:eq(0)").val(G)}},textArea:{init:function(G){var H=m('<textarea class="form-control" />').click(function(I){I.stopPropagation()});return H},getValue:function(G){return G.find(">textarea:eq(0)").val()},setValue:function(H,G){H.find(">textarea:eq(0)").val(G)}},checkbox:{init:function(H){var G=m('<input type="checkbox" />').click(function(I){I.stopPropagation()});return G},getValue:function(G){return G.find(">:checkbox:eq(0)").prop("checked")+""},setValue:function(H,G){H.find(">:checkbox:eq(0)").prop("checked",m.parseBool(G))}},numberbox:{init:function(H){var G=m('<input type="number" class="form-control" />').click(function(I){I.stopPropagation()});return G},getValue:function(G){return +G.find('>input[type="number"]:eq(0)').val()},setValue:function(H,G){H.find('>input[type="number"]:eq(0)').val(+G)}},select:{init:function(I,G){var H=m("<select />").appendTo(I);H.selectPicker(G)},getValue:function(G){return G.find(">.coodo-selectPicker:eq(0)").selectPicker("getText")},setValue:function(H,G){H.find(">.coodo-selectPicker:eq(0)").selectPicker("select",G)}}};m.fn.grid.columnDefaults={checkbox:undefined,title:undefined,field:undefined,mfield:undefined,sortable:undefined,width:undefined,maxWidth:undefined,align:undefined,halign:undefined,hidden:undefined,merge:false,rowSpan:undefined,colSpan:undefined,formatter:undefined,editor:undefined,styler:undefined}}(jQuery);+function(c){function g(j){var i=c(j).data("propertyGrid");var h=i.options;c(j).addClass("coodo-propertyGrid");c(j).grid(c.extend(h,{onClickRow:function(l,k){if(!c(this).find(".cell-editing").length){h.columns[2].editor=k.editor;c(j).grid("beginEdit",l)}},onUnselect:function(l,k){c(j).grid("endEdit",l)},onBeforeEdit:function(l,k){i.currentIndex=l},onAfterEdit:function(m,l,k){i.currentIndex=undefined},onLoadSuccess:function(k){if(h.showGroup){b(j,k)}a(j,k)}}));c(document).off(".propertygrid").on("mousedown.propertygrid",function(l){var k=c(l.target).parents(".coodo-propertyGrid");if(!k.length){c(j).grid("endEdit",i.currentIndex)}})}function b(r,o){var k=c(r).data("propertyGrid");var h=k.options;var m=[];for(var p=0;p<o.rows.length;p++){var u=o.rows[p];var t=n(u[h.groupField]);if(!t){t={value:u[h.groupField],rows:[u]};m.push(t)}else{t.rows.push(u)}}k.groups=m;var s=0;for(var p=0;p<m.length;p++){var t=m[p];var u=c(r).find("tr.coodo-grid-data-row:eq("+s+")");var l=c('<tr class="coodo-grid-group"></tr>').attr("coodo-grid-group-index",p).insertBefore(u);var q=c('<td class="coodo-grid-group-cell coodo-grid-group-expand"><i class="glyphicon glyphicon-minus"></i></td>').attr("rowspan",t.rows.length+1).appendTo(l);var j=c('<td class="coodo-grid-group-cell" colspan="2"></td>').appendTo(l);if(h.groupFormatter){j.append(h.groupFormatter.call(r,t.value,t.rows))}else{j.append(t.value)}c.each(t.rows,function(v){var w=c(r).find("tr.coodo-grid-data-row:eq("+s+")");w.find("td:eq(0)").hide();s++});q.on("click",">i",function(){var i=+c(this).parents(".coodo-grid-group").attr("coodo-grid-group-index");if(c(this).parent().hasClass("coodo-grid-group-expand")){f(r,i)}else{d(r,i)}})}function n(w){for(var v=0;v<m.length;v++){var x=m[v];if(x.value==w){return x}}return null}}function a(n,m){var l=c(n).data("propertyGrid");var j=l.options;var k=c(n).find(".coodo-grid-header-row");var i=k.find("td:eq(1)");var h=i.attr("coodo-group-grid-sort");if(!h){i.attr("coodo-group-grid-sort","")}if(!i.find(">div>.btn-group").length){i.find(">div").append(c('<div class="btn-group dropup"><span>&nbsp;</span></div>'))}c(n).off(".propertygrid").on("click.propertygrid",".coodo-grid-header-row>td[coodo-group-grid-sort]",function(){var o="asc";var q=c(this).find(".btn-group");switch(c(this).attr("coodo-group-grid-sort")){case"":case"desc":q.addClass("dropup");break;case"asc":q.removeClass("dropup");o="desc";break}q.find("span").addClass("caret");c(this).attr("coodo-group-grid-sort",o);if(j.showGroup){var p=[];c.each(l.groups,function(){this.rows.sort(function(s,r){if(o=="asc"){return s.name.localeCompare(r.name)}else{return r.name.localeCompare(s.name)}});p=p.concat(this.rows)});c(n).grid("loadData",{total:p.length,rows:p})}else{m.rows.sort(function(s,r){if(o=="asc"){return s.name.localeCompare(r.name)}else{return r.name.localeCompare(s.name)}});c(n).grid("loadData",m)}})}function d(l,j){var i=c(l).data("propertyGrid");var k=c(l).find("tr.coodo-grid-group:eq("+j+")").find("td.coodo-grid-group-cell:eq(0)");var h=i.groups[j].rows;c.each(h,function(n){if(j>0){var m=n+i.groups[j-1].rows.length;var o=c(l).find("tr.coodo-grid-data-row:eq("+m+")");o.show()}else{var o=c(l).find("tr.coodo-grid-data-row:eq("+n+")");o.show()}});k.removeClass("coodo-grid-group-collapse").addClass("coodo-grid-group-expand");k.find("i").removeClass().addClass("glyphicon glyphicon-minus");k.attr("rowspan",h.length+1)}function f(l,j){var i=c(l).data("propertyGrid");var k=c(l).find("tr.coodo-grid-group:eq("+j+")").find("td.coodo-grid-group-cell:eq(0)");var h=i.groups[j].rows;c.each(h,function(n){if(j>0){var m=n+i.groups[j-1].rows.length;var o=c(l).find("tr.coodo-grid-data-row:eq("+m+")");o.hide()}else{var o=c(l).find("tr.coodo-grid-data-row:eq("+n+")");o.hide()}});k.removeClass("coodo-grid-group-expand").addClass("coodo-grid-group-collapse");k.find("i").removeClass().addClass("glyphicon glyphicon-plus");k.removeAttr("rowspan")}c.fn.propertyGrid=function(h,j){if(typeof h=="string"){var k=c.fn.propertyGrid.methods[h];if(k){return c.fn.propertyGrid.methods[h](this,j)}else{return c(this).grid(h,j)}}var i=h||{};return this.each(function(){var l=c(this).data("propertyGrid");if(l){c.extend(l.options,i)}else{c.data(this,"propertyGrid",{options:c.extend({},c.fn.panel.defaults,c.fn.grid.defaults,c.fn.propertyGrid.defaults,c.parser.parseOptions(this),i),currentIndex:undefined,groups:[]})}g(this)})};c.fn.propertyGrid.defaults={width:400,rowNumbers:false,singleSelect:true,columns:[{title:"",width:20},{field:"name",title:"name"},{field:"value",title:"value"}],showGroup:false,groupField:"group",groupFormatter:undefined};c.fn.propertyGrid.methods={options:function(h){return c.data(h[0],"propertyGrid").options},getData:function(i){var h=i.eq(0).data("propertyGrid").currentIndex;i.eq(0).grid("endEdit",h);return i.eq(0).grid("getData")},expandGroup:function(i,h){i.each(function(){var j=c.data(this,"propertyGrid").options;if(j.showGroup){d(this,h)}})},collapseGroup:function(i,h){i.each(function(){var j=c.data(this,"propertyGrid").options;if(j.showGroup){f(this,h)}})}}}(jQuery);+function($){function init(target){var opts=$.data(target,"treeView").options;$(target).addClass("coodo-treeView coodoTree");initAttr(target);initEvent(target)}function initAttr(target){var opts=$.data(target,"treeView").options;var lisData=getLiData($(target).children());if(!opts.lines){$(target).addClass("coodoTriangular")}else{$(target).removeClass("coodoTriangular")}if(lisData.length){loadData(target,lisData)}else{if(opts.data){loadData(target,opts.data)}else{if(opts.url){loadRemoteData(target,null,function(data){loadData(this,data)})}}}}function initEvent(target){var state=$.data(target,"treeView");var opts=state.options;$(target).off(".treeView");$(target).on("mousedown.treeView",".node>.nodeContent",function(e){e.stopPropagation();var nodeContent=$(this);var node=getNode(state.data,nodeContent.attr("node-id"));$(target).find(".nodeSelected").removeClass("nodeSelected");nodeContent.addClass("nodeSelected");opts.onClick.call(this,node);if(state.selectedNode==null||state.selectedNode!=node){selectNode(target,nodeContent,node)}});$(target).on("dblclick.treeView",".node>.nodeContent",function(e){e.stopPropagation();opts.onDblClick.call(this,getNode(state.data,$(this).attr("node-id")))});$(target).on("click.treeView",".node>.nodeContent>.nodeHit",function(e){e.stopPropagation();var treeNode=$(this).parents(".node:eq(0)");var nodeContent=$(this).parent();var node=getNode(state.data,nodeContent.attr("node-id"));if(!treeNode.hasClass("nodeLeaf")){if(treeNode.hasClass("nodeExpand")){collapse(target,treeNode);opts.onCollapse.call(nodeContent[0],node)}else{expand(target,treeNode,node)}}});$(target).on("click.treeView",".node>.nodeContent>.nodeCheckbox",function(e){e.stopPropagation();var nodeContent=$(this).parent();var checked=true;if($(this).hasClass("nodeCheckboxSelected")){checked=false}checkNodeById(target,nodeContent.attr("node-id"),checked)})}function loadRemoteData(target,para,fnc){var opts=$.data(target,"treeView").options;var param=para||{};if(opts.url){$.ajax({url:opts.url,method:opts.method,data:param,dataType:"json",success:function(data){if(fnc){fnc.call(target,data)}},error:function(XMLHttpRequest,textStatus,errorThrown){opts.onLoadError.call(target,XMLHttpRequest,textStatus,errorThrown)}})}else{if(fnc){fnc.call(target,null)}}}function loadData(target,data,parentNode){var state=$.data(target,"treeView");if(!state){return}var opts=state.options;clearData(target);if(data&&data.length){loadNodeData(target,data,parentNode);state.data=data}opts.onLoadSuccess.call(target,data)}function loadNodeData(target,data,parentNode,l){var state=$.data(target,"treeView");var opts=state.options;var level=l||0;$.each(data,function(i){var node=$.extend({},$.fn.treeView.nodeDefaults,this);var treeNode=$('<li class="node"/>').appendTo(parentNode||target);createNode(target,this,treeNode,level);if(node.children){var childrenNode=$('<ul class="coodoTree"/>').appendTo(treeNode);if(node.expand){treeNode.addClass("nodeExpand")}else{collapse(target,treeNode)}loadNodeData(target,node.children,childrenNode,level+1);if(!opts.lines){childrenNode.addClass("coodoTriangular").find(".indent").removeClass("treeLine")}}else{if(!node.open){treeNode.addClass("nodeCollapse")}else{treeNode.addClass("nodeLeaf")}}if(i+1==data.length){treeNode.find(".coodoTree .nodeContent>i:nth-child("+eval(level+1)+")").removeClass("treeLine")}})}function createNode(target,node,treeNode,level){var state=$.data(target,"treeView");var opts=state.options;var nodeData=$.extend({},$.fn.treeView.nodeDefaults,node);var nodeContent=$('<div class="nodeContent" />').attr({"node-id":(nodeData.id==undefined?nodeData.text:nodeData.id),"node-open":nodeData.open}).appendTo(treeNode);node.target=nodeContent[0];for(var i=0;i<level;i++){nodeContent.append($('<i class="indent treeLine" />'))}nodeContent.append('<i class="nodeHit" />');if(opts.checkbox&&(!opts.onlyLeafCheck||!node.children)){nodeContent.append('<i class="nodeCheckbox" />');if(node.check){checkNode(target,nodeContent,true)}}if(opts.icon){var icon=$("<i />").appendTo(nodeContent);if(nodeData.iconCls){icon.addClass(nodeData.iconCls)}else{if(nodeData.iconCls+""=="null"){icon.addClass("hidden")}else{icon.addClass("nodeIcon")}}}var nodeSpan=$('<span class="nodeTitle" />').appendTo(nodeContent);if(opts.formatter){nodeSpan.append(opts.formatter.call(nodeSpan,nodeData.text,node))}else{nodeSpan.append(nodeData.text)}}function getNode(data,id){var result=null;var child=[];for(var i=0;i<data.length;i++){if(data[i].id==id||data[i].text==id){result=data[i]}else{if(data[i].children){$.each(data[i].children,function(){child.push(this)})}}if(result){break}}if(!result&&child.length){return getNode(child,id)}else{return result}}function getNodeDom(target,id){return $(target).find(".nodeContent[node-id="+id+"]").parent(".node")}function collapse(target,treeNode){var opts=$.data(target,"treeView").options;treeNode.removeClass("nodeExpand").addClass("nodeCollapse");if(opts.animation){treeNode.find(">.coodoTree").slideUp()}else{treeNode.find(">.coodoTree").hide()}}function expand(target,treeNode,node){var state=$.data(target,"treeView");var opts=state.options;treeNode.removeClass("nodeCollapse");var nodeContent=treeNode.find(".nodeContent");if(!$.parseBool(nodeContent.attr("node-open"))&&!treeNode.find(">.coodoTree").length){treeNode.addClass("nodeLoading");var childNode=$('<ul class="coodoTree">').appendTo(treeNode);loadRemoteData(target,{id:nodeContent.attr("node-id")},function(data){if(data){var curLevel=treeNode.find(".nodeContent>.indent").length;loadNodeData(target,data,childNode,curLevel+1);updateNodeIndent(treeNode)}if(opts.animation){treeNode.find(">.coodoTree").slideDown()}else{treeNode.find(">.coodoTree").show()}treeNode.removeClass("nodeLoading").addClass("nodeExpand");node.children=data;opts.onExpand.call(nodeContent[0],node)})}else{if(opts.animation){treeNode.find(">.coodoTree").slideDown()}else{treeNode.find(">.coodoTree").show()}treeNode.addClass("nodeExpand");opts.onExpand.call(nodeContent[0],node)}}function selectNode(target,nodeContent,node){var state=$.data(target,"treeView");var opts=state.options;if(!node){node=getNode(state.data,nodeContent.attr("node-id"))}nodeContent.addClass("nodeSelected");state.selectedNode=node;opts.onSelect.call(nodeContent[0],node)}function checkNode(target,nodeContent,checked){var opts=$.data(target,"treeView").options;var nodeCbx=nodeContent.find(">.nodeCheckbox");nodeCbx.removeClass("nodeCheckboxPreSelected");if(checked){nodeCbx.addClass("nodeCheckboxSelected");if(opts.cascadeCheck){nodeContent.next(".coodoTree").find(".nodeCheckbox").addClass("nodeCheckboxSelected")}}else{nodeCbx.removeClass("nodeCheckboxSelected");if(opts.cascadeCheck){nodeContent.next(".coodoTree").find(".nodeCheckbox").removeClass("nodeCheckboxSelected")}}if(opts.cascadeCheck){var parentNodes=nodeContent.parents(".coodoTree").prevAll();$.each(parentNodes,function(){var currentCheckbox=$(this).find(".nodeCheckbox");var childNodesBox=$(this).next().find(".nodeCheckbox");var selectedNodes=childNodesBox.filter(".nodeCheckboxSelected");if(!selectedNodes.length){currentCheckbox.removeClass("nodeCheckboxPreSelected").removeClass("nodeCheckboxSelected")}else{if(childNodesBox.length==selectedNodes.length){currentCheckbox.removeClass("nodeCheckboxPreSelected").addClass("nodeCheckboxSelected")}else{currentCheckbox.removeClass("nodeCheckboxSelected").addClass("nodeCheckboxPreSelected")}}})}}function checkNodeById(target,id,checked){var state=$.data(target,"treeView");var opts=state.options;var data=state.data;var nodeContent=$(target).find(".nodeContent[node-id="+id+"]");var node=getNode(data,nodeContent.attr("node-id"));if(nodeContent.length&&node){if(!node.target){node.target=nodeContent[0]}checkNode(target,nodeContent,checked);opts.onCheck.call(nodeContent[0],node,checked)}}function appendNode(target,param){var state=$.data(target,"treeView");var opts=state.options;var treeNode=getNodeDom(target,param.id);treeNode.addClass("nodeLoading");if(param.id){var childNode=treeNode.find(">.coodoTree");if(!childNode.length){childNode=$('<ul class="coodoTree"/>').appendTo(treeNode);if(!opts.lines){childNode.addClass("coodoTriangular")}}var lastNotLeafNode=childNode.find(">.node:not(.nodeLeaf):last-child");var curLevel=treeNode.find(">.nodeContent>.indent").length;loadNodeData(target,param.data,childNode,curLevel+1);updateNodeIndent(treeNode);if(lastNotLeafNode.length){lastNotLeafNode.find(".coodoTree .nodeContent .indent:nth-child("+eval(curLevel+2)+")").addClass("treeLine")}var node=getNode(state.data,param.id);if(node.children){node.children=node.children.concat(param.data)}else{node.children=param.data}}else{loadNodeData(target,param.data);state.data=state.data.concat(param.data)}treeNode.removeClass("nodeLeaf nodeLoading").addClass("nodeExpand")}function insertNode(target,param){if(!param.before&&!param.after){return false}var state=$.data(target,"treeView");var opts=state.options;var id=param.before||param.after;var goalNode=getNodeDom(target,id);var level=goalNode.find(">.nodeContent>.indent").length;var parentId=goalNode.parent().prev().attr("node-id");var parentNodeData=getNode(state.data,parentId).children;$.each(param.data,function(i,n){var node=$.extend({},$.fn.treeView.nodeDefaults,n);var treeNode=$('<li class="node"/>');createNode(target,node,treeNode,level);if(node.children){var newNodeChild=$("<ul />").addClass("coodoTree").appendTo(treeNode);if(!opts.lines){newNodeChild.addClass("coodoTriangular")}if(node.expand){treeNode.addClass("nodeExpand")}else{collapse(target,treeNode)}loadNodeData(target,node.children,newNodeChild,level+1)}else{if(!node.open){treeNode.addClass("nodeCollapse")}else{treeNode.addClass("nodeLeaf")}}if(param.before){goalNode.before(treeNode)}else{if(!goalNode.next().length){goalNode.find(".coodoTree .nodeContent .indent:nth-child("+eval(level+1)+")").addClass("treeLine")}goalNode.after(treeNode)}updateNodeIndent(treeNode)});if(parentNodeData){var j=0;for(;j<parentNodeData.length;j++){var obj=parentNodeData[j];if(obj.id==id){break}}for(var h=0;h<param.data.length;h++){if(param.before){parentNodeData.splice(j,0,param.data[h])}else{parentNodeData.splice(j+1,0,param.data[h])}j++}parentNodeData.children=parentNodeData}}function updateNode(target,param){if(!param.id){return false}var state=$.data(target,"treeView");var nodeDom=getNodeDom(target,param.id);var parentId=nodeDom.parent().prev().attr("node-id");var parentNodeData;if(parentId){parentNodeData=getNode(state.data,parentId).children;nodeDom.parent().prev().find(">.nodeTitle").html(param.data.text)}else{parentNodeData=state.data;nodeDom.find(".nodeContent[node-id="+param.id+"]").find(">.nodeTitle").html(param.data.text)}if(parentNodeData){for(var j=0;j<parentNodeData.length;j++){var obj=parentNodeData[j];if(obj.id==param.id){obj.text=param.data.text;obj.attributes=param.data.attributes;obj.iconCls=param.data.iconCls;break}}if(parentId){getNode(state.data,parentId).children=parentNodeData}else{state.data=parentNodeData}}}function removeNode(target,id){var state=$.data(target,"treeView");var nodeDom=getNodeDom(target,id);var parentId=nodeDom.parent().prev().attr("node-id");var parentNodeData=state.data;if(parentId){parentNodeData=getNode(state.data,parentId).children}var prevNode=nodeDom.prev();nodeDom.remove();updateNodeIndent(prevNode);for(var j=0;j<parentNodeData.length;j++){var obj=parentNodeData[j];if(obj.id==id){parentNodeData.splice(j,1)}}if(parentId&&!parentNodeData.length){getNodeDom(target,parentId).removeClass("nodeExpand nodeCollapse").addClass("nodeLeaf")}}function clearData(target){var state=$.data(target,"treeView");state.selectedNode=state.data=null;$(target).children().remove()}function updateNodeIndent(treeNode){var level=0;if(!treeNode.next().length){level=treeNode.find(">.nodeContent>.indent").length;treeNode.find(".coodoTree .nodeContent .indent:nth-child("+eval(level+1)+")").removeClass("treeLine")}treeNode.parents(".node").each(function(){if(!$(this).next().length){level=$(this).find(">.nodeContent>.indent").length;$(this).find(".coodoTree .nodeContent .indent:nth-child("+eval(level+1)+")").removeClass("treeLine")}else{return false}})}function getLiData(lis){var data=[];if(lis.length){$.each(lis,function(){var node=$.extend({},$.fn.treeView.nodeDefaults,{text:$(this).children("span").text()});var childLis=$(this).find(">ul>li");if(childLis.length){node.children=getLiData(childLis)}data.push(node)})}return data}$.fn.treeView=function(options,param){if(typeof options=="string"){var method=$.fn.treeView.methods[options];if(method){return method(this,param)}}var option=options||{};return this.each(function(){var state=$(this).data("treeView");if(state){$.extend(state.options,option)}else{$.data(this,"treeView",{options:$.extend({},$.fn.treeView.defaults,$.parser.parseOptions(this),option),data:[],selectedNode:null})}init(this)})};$.fn.treeView.methods={options:function(jq){return $.data(jq[0],"treeView").options},getData:function(jq){return $.data(jq[0],"treeView").data},getNode:function(jq,id){var data=$.data(jq[0],"treeView").data;return getNode(data,id)},getSelected:function(jq){return $.data(jq[0],"treeView").selectedNode},getChecked:function(jq){var data=$.data(jq[0],"treeView").data;var result=[];$(jq[0]).find(".nodeCheckboxSelected").each(function(){var nodeId=$(this).parent().attr("node-id");var node=getNode(data,nodeId);if(!node.target){node.target=$(this).parent()[0]}result.push(node)});return result},getParent:function(jq,nodeDom){var data=$.data(jq[0],"treeView").data;if(nodeDom){var parentNodeDom=$(nodeDom).parent().parent().prev(".nodeContent");if(parentNodeDom.length){var parentNode=getNode(data,parentNodeDom.eq(0).attr("node-id"));if(!parentNode.target){parentNode.target=parentNodeDom[0]}return parentNode}else{return null}}else{return null}},isLeaf:function(jq,nodeDom){if(nodeDom&&$(nodeDom).parent().hasClass("nodeLeaf")){return true}else{return false}},loadData:function(jq,data){jq.each(function(){loadData(this,data)})},reload:function(jq,nodeDom){jq.each(function(){if(nodeDom){var data=$.data(this,"treeView").data;var node=getNode(data,$(nodeDom).attr("node-id"));var treeNode=$(nodeDom).parent();treeNode.addClass("nodeLoading");loadRemoteData(target,{id:node.id},function(data){var childNodes=treeNode.find(".coodoTree");if(!childNodes.length){childNodes=$('<ul class="coodoTree" />').appendTo(treeNode);treeNode.removeClass("nodeLeaf").addClass("nodeExpand")}else{childNodes.children().remove()}var curLevel=treeNode.find(".nodeContent>.indent").length;loadNodeData(target,data,childNodes,curLevel+1);if(!treeNode.next().length){treeNode.find(".coodoTree .nodeContent .indent:nth-child(n+"+curLevel+")").removeClass("treeLine")}treeNode.removeClass("nodeLoading").addClass("nodeExpand");node.children=data})}else{loadRemoteData(this,null,function(data){loadData(this,data)})}})},select:function(jq,id){var nodeContent=jq.eq(0).find(".nodeContent[node-id="+id+"]");if(nodeContent.length){jq.find(".nodeSelected").removeClass("nodeSelected");selectNode(jq[0],nodeContent)}},check:function(jq,id){jq.each(function(){checkNodeById(this,id,true)})},uncheck:function(jq,id){jq.each(function(){checkNodeById(this,id,false)})},append:function(jq,param){jq.each(function(){appendNode(this,param)})},insert:function(jq,param){jq.each(function(){insertNode(this,param)})},remove:function(jq,id){jq.each(function(){removeNode(this,id)})}};$.fn.treeView.defaults={animation:true,onlyLeafCheck:false,url:undefined,method:"Get",icon:true,checkbox:false,cascadeCheck:true,data:undefined,lines:true,onLoadSuccess:function(data){},onLoadError:function(XMLHttpRequest,textStatus,errorThrown){},onClick:function(node){},onDblClick:function(node){},onExpand:function(node){},onCollapse:function(node){},onSelect:function(node){},onCheck:function(node,checked){}};$.fn.treeView.nodeDefaults={id:undefined,text:undefined,children:undefined,iconCls:undefined,check:false,expand:false,open:true,target:undefined}}(jQuery);+function(g){function n(r){g(r).addClass("coodo-selectPicker");g(r).hide();f(r);p(r);q(r)}function p(w){var u=g.data(w,"selectPicker").options;if(u.multiple){g(w).attr("multiple",true)}var t;if(u.data.length){h(w,u.data,true)}else{if((t=g(w).children()).length){var v=[];g.each(t,function(){var y=g(this);var z={disabled:y.attr("disabled")||false,selected:y.attr("selected")?true:false};if(y.is("optgroup")){g.extend(z,{group:y.attr("label")||"",options:[]});y.children().each(function(){var A={disabled:g(this).attr("disabled")||false,selected:g(this).attr("selected")?true:false};A[u.valueField]=g(this).attr("value")==undefined?g(this).text():g(this).attr("value");A[u.textField]=g(this).text();z.options.push(A)})}else{z[u.valueField]=y.attr("value")==undefined?y.text():y.attr("value");z[u.textField]=y.text()}v.push(z)});h(w,v)}else{c(w)}}var r=g(w).prev(".coodo-selectPicker-list");var x=r.find(".dropdown-menu");var s=x.find("li.coodo-selectPicker-content>ul");if(u.upward){r.removeClass("dropdown").addClass("dropup")}else{r.removeClass("dropup").addClass("dropdown")}if(u.width){r.width(u.width);r.find(">.dropdown-toggle > .coodo-selectPicker-text").css("padding-right","10px");x.css("width","100%")}if(u.height){s.css("maxHeight",u.height)}if(u.search){if(!x.find(".coodo-selectPicker-search").length){x.prepend(d(w,s))}}else{x.find(".coodo-selectPicker-search").remove()}}function q(u){var t=g.data(u,"selectPicker");var s=t.options;var r=g(u).prev(".coodo-selectPicker-list");r.off(".dropdown .selectPicker");r.on("shown.bs.dropdown",function(){r.find(".coodo-selectPicker-search input").focus();s.onShown.call(u)});r.on("hidden.bs.dropdown",function(){s.onHidden.call(u)});r.on("click.selectPicker",".coodo-selectPicker-content>ul>li",function(z){var v=g(this);var A=v.find(">a");var x=m(u,t.data,v.attr("itemValue"));if(v.hasClass("group")||v.hasClass("disabled")||v.hasClass("divider")){z.stopPropagation()}else{var y=null;var w=null;if(s.multiple){y=[].concat(t.selectedItems,x);w=[].concat(t.selectedItems)||null;if(v.hasClass("coodo-selectPicker-selected")){j(u,v)}else{o(u,v,x)}z.stopPropagation()}else{y=[].concat(x)[0];w=[].concat(t.selectedItems)[0]||null;if(g.inArray(x,t.selectedItems)<0){o(u,v,x)}}s.onChange.call(this,y,w)}});r.on("keydown.selectPicker",".coodo-selectPicker-content>ul>li",function(v){var w=g(this).prevAll("li:visible");if(v.keyCode==38&&!w.length){r.find(".dropdown-menu>.coodo-selectPicker-search input").focus();return false}})}function c(t,r){var s=g.data(t,"selectPicker").options;if(r){s.url=r}if(s.url){g.ajax({type:"GET",async:false,url:s.url,data:"{}",dataType:"json",success:function(u){h(t,u,true)},error:function(u,w,v){s.onLoadError.call(t,u,w,v)}})}}function h(v,u,r){var t=g.data(v,"selectPicker");if(!t){return}var s=t.options;l(v);if(u&&u.length){if(r){g(v).children().remove();g.each(g.grep(u,function(w){if(!w.divider){return w}}),function(){g(v).append(k(v,this));if(this.group&&this.options.length){var w=g("<optgroup />").attr("label",this.group);g.each(this.options,function(){w.append(k(v,this))});g(v).append(w)}})}i(v,u);t.data=u}s.onLoadSuccess.call(v,u)}function k(v,t){var s=g.data(v,"selectPicker").options;var r=g("<option />");var u=g.extend({},g.fn.selectPicker.itemDefaults,t);r.attr("value",u[s.valueField]==undefined?u[s.textField]:u[s.valueField]);r.append(u[s.textField]);if(u.selected){r.attr("selected","selected")}if(u.disabled){r.attr("disabled","disabled")}return r}function f(t){var r=g(t).prev(".coodo-selectPicker-list");if(!r.length){r=g('<div class="dropdown btn-group coodo-selectPicker-list" />');var s=g('<div class="form-control dropdown-toggle" data-toggle="dropdown" />').append(g('<div class="coodo-selectPicker-text"/>').attr("name","coodo-selectPicker-"+g(t).attr("name"))).append('<i class="caret coodo-selectPicker-icon"></i>').appendTo(r);var u=g('<ul class="dropdown-menu" role="menu" ><li class="coodo-selectPicker-content" ><ul/></li></ul>').appendTo(r);g(t).before(r)}}function i(t,s){var r=g(t).prev(".coodo-selectPicker-list").find(">ul.dropdown-menu>li.coodo-selectPicker-content>ul");if(r.length&&s.length){g.each(s,function(){r.append(b(t,this));if(this.group&&this.options.length){g.each(this.options,function(){r.append(b(t,g.extend({},this,{isChild:true})))})}})}}function b(v,y){var s=g.data(v,"selectPicker");var r=s.options;var w=g.extend({},g.fn.selectPicker.itemDefaults,y);var x=g("<li />");var u;var t;if(w.divider){x.addClass("divider")}else{if(w.group){x.addClass("group");u=g('<a href="javascript:void(0);" />').append(w.group).appendTo(x)}else{x.attr("itemValue",w[r.valueField]==undefined?w[r.textField]:w[r.valueField]);u=g('<a href="javascript:void(0);" />').appendTo(x);t=g('<div class="coodo-selectPicker-item" />').appendTo(u);if(r.formatter){var z=r.formatter.call(this,y);y[r.textField]=z;t.append(z)}else{t.attr("title",w[r.textField]).append(w[r.textField])}if(w.disabled){x.addClass("disabled")}if(w.isChild){u.addClass("child")}if(w.selected){o(v,x,y)}}}return x}function o(x,r,v){var w=g.data(x,"selectPicker");var u=w.options;var y=r.attr("itemValue");if(g.inArray(v,w.selectedItems)>=0){return}var s=g(x).prev(".coodo-selectPicker-list");if(!u.multiple){var t=s.find(".coodo-selectPicker-selected");if(t.length){j(x,t.eq(0))}w.selectedItems[0]=v}else{w.selectedItems.push(v)}r.addClass("coodo-selectPicker-selected");u.onSelect.call(r.children("a")[0],v);a(x)}function j(u,r){var t=g.data(u,"selectPicker");var s=t.options;var w=t.selectedItems;var v=r.attr("itemValue");r.removeClass("coodo-selectPicker-selected");g.each(w,function(x,y){if(y[s.valueField]==v){w.splice(x,1);return false}});s.onUnselect.call(r.children("a")[0],m(u,t.data,v));a(u)}function a(v){var u=g(v).data("selectPicker");var t=u.options;var w=u.selectedItems;var r="";var s=[];if(w.length){g.each(w,function(){r+=this[t.textField]+",";s.push(this[t.valueField])})}r=r.substring(0,r.length-1);g(v).val(s);g(v).prev(".coodo-selectPicker-list").find(".coodo-selectPicker-text").html(r);g(v).change()}function l(t){var s=g.data(t,"selectPicker");var r=g(t).prev(".coodo-selectPicker-list");r.find("ul.dropdown-menu>li.coodo-selectPicker-content>ul>li").remove();s.data=[];s.selectedItems=[];r.find(".coodo-selectPicker-text").text("")}function d(x,s){var w=g.data(x,"selectPicker").options;var r=g('<li class="coodo-selectPicker-search" />');var v=g('<div class="has-feedback" />').appendTo(r);var t=g('<input type="search" class="form-control" placeholder="search...." />').on("input propertychange",function(y){if(g.trim(g(this).val()).length){u.removeClass("glyphicon-search").addClass("glyphicon-remove");s.find("li").show().not('li:has(a:icontains("'+g(this).val()+'"))').hide()}else{u.removeClass("glyphicon-remove").addClass("glyphicon-search");s.find("li").show()}}).keydown(function(y){if(y.keyCode==40){r.next().find("ul>li:visible:eq(0)").find("a").focus();return false}}).appendTo(v);var u=g('<i class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true" />').click(function(y){y.stopPropagation();t.val("").focus().change();u.removeClass("glyphicon-remove").addClass("glyphicon-search");s.find("li").show()}).appendTo(v);return r}function m(v,u,s){var t=g(v).data("selectPicker").options;var r=undefined;var w=[];g.each(u,function(){if(this[t.valueField]==s||this[t.textField]==s){r=this;return false}else{if(this.options){g.each(this.options,function(){w.push(this)})}}});if(!r&&w.length){return m(v,w,s)}else{return r}}g.fn.selectPicker=function(r,t){if(typeof r=="string"){var u=g.fn.selectPicker.methods[r];if(u){return u(this,t)}}var s=r||{};return this.each(function(){var v=g(this).data("selectPicker");if(v){g.extend(v.options,s)}else{g.data(this,"selectPicker",{options:g.extend({},g.fn.selectPicker.defaults,g.parser.parseOptions(this),s),data:[],selectedItems:[]})}n(this)})};g.fn.selectPicker.methods={options:function(r){return g.data(r[0],"selectPicker")},getData:function(r){return g.data(r[0],"selectPicker").data},getSelected:function(s){var r=g.data(s[0],"selectPicker").selectedItems;if(r.length){return r[0]}else{return null}},getSelections:function(r){return g.data(r[0],"selectPicker").selectedItems},getValue:function(t){var s=g.data(t[0],"selectPicker");var r=s.selectedItems;if(r.length){return r[0][s.options.valueField]}else{return null}},getText:function(t){var s=g.data(t[0],"selectPicker");var r=s.selectedItems;if(r.length){return r[0][s.options.textField]}else{return null}},select:function(s,r){s.each(function(){var t=g(this).prev().find('.dropdown-menu>.coodo-selectPicker-content>ul>li[itemValue="'+r+'"]');if(!t.length&&r){t=g(this).prev().find('.dropdown-menu>.coodo-selectPicker-content>ul>li:has(.coodo-selectPicker-item:contains("'+r+'"))')}var u=g.data(this,"selectPicker");if(t.length){o(this,t,m(this,u.data,r))}})},unselect:function(s,r){s.each(function(){var t=g(this).prev().find(".dropdown-menu>.coodo-selectPicker-content>ul>li[itemValue="+r+"],li:contains("+r+")");if(t.length){j(this,t)}})},setValues:function(s,r){s.each(function(t,u){g.each(r,function(){g(u).selectPicker("select",this)})})},reload:function(s,r){s.each(function(){c(this,r)})},loadData:function(s,r){s.each(function(){h(this,r,true)})},clear:function(r){r.each(function(){var t=g.data(this,"selectPicker");t.selectedItems=[];a(this);g(this).val("");var s=g(this).prev();s.find(".coodo-selectPicker-search input").val("");s.find("li").show();s.find(".coodo-selectPicker-selected").removeClass("coodo-selectPicker-selected")})}};g.fn.selectPicker.defaults={valueField:"id",textField:"text",multiple:false,upward:false,data:[],url:undefined,search:false,width:undefined,height:undefined,tickIcon:"glyphicon glyphicon-ok",formatter:undefined,onLoadSuccess:function(r){},onLoadError:function(r,t,s){},onChange:function(s,r){},onSelect:function(r){},onUnselect:function(r){},onShown:function(){},onHidden:function(){}};g.fn.selectPicker.itemDefaults={divider:false,group:undefined,options:undefined,disabled:undefined,selected:undefined,isChild:undefined}}(jQuery);+function(g){function h(l){var j=g(l).find(">.modal-dialog");if(!j.length){j=g('<div class="modal-dialog" role="document" />');var k=g('<div class="modal-content" />').appendTo(j);var n=g(l).find(".modal-header").appendTo(k);if(!n.length){n=g('<div class="modal-header" ><div class="modal-header-title" ><i /><span /></div><div class="modal-header-tool" /></div>').appendTo(k)}var i=g('<div class="modal-body" />').appendTo(k);var m=g(l).find(".modal-footer").appendTo(k);if(!m.length){m=g('<div class="modal-footer" />').appendTo(k)}g(l).find(".coodo-dialog-toolbar").appendTo(m)}if(!j.parent().is(l)){g(l).contents().appendTo(i);j.appendTo(l)}g(l).addClass("modal coodo-dialog").attr({role:"dialog",tabindex:"-1"});c(l);b(l)}function c(n){var l=g.data(n,"dialog").options;var j=g(n).find(">.modal-dialog");var k=j.find(">.modal-content");var m=k.find(">.modal-header>.modal-header-title");var p=k.find(">.modal-header>.modal-header-tool");var i=k.find(">.modal-body");var o=k.find(">.modal-footer");if(l.id){g(n).attr("id",l.id)}if(l.iconCls){m.find(">i").addClass(l.iconCls)}if(l.title){m.find(">span").html("&nbsp;"+l.title)}else{m.addClass("hidden")}if(l.content){i.html(l.content)}if(l.animation){g(n).addClass("fade")}else{g(n).removeClass("fade")}if(l.maximizable){if(!p.find(".btn-max").length){g('<i class="glyphicon glyphicon-resize-full btn-max" state="normal" />').click(function(){if(g(this).attr("state")=="normal"){a(n)}else{d(n)}}).appendTo(p)}}else{p.children(".btn-max").remove()}if(l.closable){if(!p.find(">.btn-close").length){g('<i class="glyphicon glyphicon-remove btn-close" data-dismiss="modal" />').appendTo(p)}}else{p.find(">.btn-close").remove()}if(l.small){j.addClass("modal-sm")}else{j.removeClass("modal-sm")}if(l.width){j.width(l.width)}if(l.height){i.height(l.height).css("overflow-y","auto")}if(l.backdrop){g(n).attr("data-backdrop","static")}else{g(n).removeAttr("data-backdrop")}if(l.buttons){o.children().remove();g.each(l.buttons,function(t,s){var r=g('<button type="button" />').appendTo(o);var q=g.extend({},g.fn.dialog.buttonDefaults,s);if(q.text){r.html(q.text)}if(q.closed){r.attr("data-dismiss","modal")}if(q.btnCls){r.addClass(q.btnCls)}if(q.iconCls){r.prepend("<i class='"+q.iconCls+"'/>")}if(q.onClick){r.click(function(){var u=q.onClick.call(this);if(u||u==undefined){g(n).modal("hide")}})}})}if(l.dnd){k.drag({handle:".modal-header>.modal-header-title",onDrag:function(s){var t=s.data;var q=g(window).width();var r=g(window).height();t.left=t.left<0?0:t.left;t.top=t.top<0?0:t.top;if(t.left+t.proxy.outerWidth()>q){t.left=q-t.proxy.outerWidth()}if(t.top+t.proxy.outerHeight()>r){t.top=r-t.proxy.outerHeight()}}})}}function b(j){var i=g.data(j,"dialog").options;g(j).off(".modal");g(j).on("show.bs.modal",function(){});g(j).on("shown.bs.modal",function(){g(j).find(">.modal-dialog>.modal-content").resizeMask();i.onShown.call(j)});g(j).on("hide.bs.modal",function(){});g(j).on("hidden.bs.modal",function(){i.onHidden.call(j)})}function f(l,m){var k=g(l).data("dialog").options;var i=g(l).find(">.modal-dialog>.modal-content>.modal-body");var n=g(l).find(">.modal-dialog>.modal-content>.modal-footer");var j=k.url;if(!j){if(m){m()}}else{if(!k.cache||!i.children().length){if(j.indexOf("?")>=0){j+="&"}else{j+="?"}j+="d="+new Date().getTime();i.parent().openMask({msg:k.msg||undefined});g.ajax({url:j,dataType:"html",success:function(o){var p=g("<div/>").append(o);g.parser.parse(p);n.find(".coodo-dialog-toolbar").remove();p.find(".coodo-dialog-toolbar").appendTo(n);i.html("").append(p.children());k.onLoaded.call(l)},complete:function(){i.parent().closeMask();if(m){m()}},error:function(){i.parent().closeMask();if(m){m()}}})}else{if(m){m()}}}}function a(p){var o=g(p).data("dialog");var n=o.options;var k=g(p).find(">.modal-dialog");var m=k.find(">.modal-content");var i=m.find(">.modal-body");m.find(">.modal-header>.modal-header-tool>.btn-max").attr("state","max").removeClass("glyphicon-resize-full").addClass("glyphicon-resize-small");if(!o.original){o.original={width:n.width||k.width(),height:n.height||m.find(">.modal-body").outerHeight()}}var j=g(window).width()*0.98;var l=g(window).height()-m.find(">.modal-header").outerHeight()-m.find(">.modal-footer").outerHeight()-65;if(n.animation){k.animate({width:j},100);i.animate({height:l},100);m.animate({top:0,left:0})}else{k.css({width:j});i.css({height:l})}}function d(n){var m=g(n).data("dialog");var l=m.options;var j=g(n).find(">.modal-dialog");var k=j.find(">.modal-content");var i=k.find(">.modal-body");k.find(">.modal-header>.modal-header-tool>.btn-max").attr("state","normal").removeClass("glyphicon-resize-small").addClass("glyphicon-resize-full");if(m.original){if(l.animation){j.animate({width:m.original.width},100);i.animate({height:m.original.height},100)}else{j.css({width:m.original.width});i.css({height:m.original.height})}}}g.fn.dialog=function(i,k){if(typeof i=="string"){var l=g.fn.dialog.methods[i];if(l){return l(this,k)}}var j=i||{};return this.each(function(){var m=g(this).data("dialog");if(m){g.extend(m.options,j)}else{g.data(this,"dialog",{options:g.extend({},g.fn.dialog.defaults,g.parser.parseOptions(this),j),original:null})}h(this)})};g.fn.dialog.methods={options:function(i){return g.data(i[0],"dialog").options},setTitle:function(j,i){if(i){j.each(function(){g(this).data("dialog").options.title=i});j.find(".modal-header>.modal-header-title>span").html("&nbsp;"+i);j.find(".modal-header").removeClass("hidden")}return j},open:function(i){i.each(function(){var j=this;f(j,function(){g(j).modal("show")})});return i},close:function(i){i.each(function(){g(this).modal("hide")});return i},setContent:function(j,i){j.find(".modal-body").html("");j.find(".modal-body").append(i);return j}};g.fn.dialog.defaults={id:undefined,title:undefined,content:undefined,url:undefined,animation:true,closable:true,iconCls:"glyphicon glyphicon-th-large",small:false,width:undefined,height:undefined,buttons:undefined,backdrop:undefined,cache:undefined,dnd:undefined,maximizable:false,onShown:function(){},onHidden:function(){},onLoaded:function(){}};g.fn.dialog.buttonDefaults={text:"",closed:false,btnCls:undefined,iconCls:undefined,onClick:function(){}}}(jQuery);+function(a){a.dialog={create:function(b,d){if(!b.id){return null}var c=a("#"+b.id.replace("#",""));if(!c.length){c=a("<div/>").dialog(b).appendTo(d||"body")}else{c=c.dialog(b)}return c},alert:function(f,d,c){var b=a("<div />").dialog({title:f,content:d,small:true,backdrop:true,buttons:[{text:"确定",closed:true,btnCls:"btn btn-primary",onClick:function(){if(c){c.call(b,true)}}}],iconCls:"glyphicon glyphicon-warning-sign",onHidden:function(){a(this).remove()}}).appendTo("body");b.dialog("open");return b},confirm:function(g,f,b,d){var c=a("<div />").dialog({title:g,width:400,backdrop:true,buttons:[{text:"取消",btnCls:"btn btn-default",close:true,onClick:function(){if(d){d.call(c,false)}}},{text:"确定",btnCls:"btn btn-primary",onClick:function(){if(b){b.call(c,true)}}}],onHidden:function(){a(this).remove()}}).appendTo("body");a(c).dialog("setContent",f);a(c).dialog("open");return c},close:function(b){a(b).parents(".coodo-dialog").dialog("close")}}}(jQuery);+function(g){function j(m){f(m);k(m);l(m)}function k(o){var n=g.data(o,"autoComplete").options;var m=g(o).prev(".coodo-autoComplete-list");if(n.data){h(o,n.data)}else{if(n.url&&!n.async){c(o)}}if(n.width){g(o).parent().width(n.width)}if(n.height){m.height(n.height)}}function l(p){var o=g.data(p,"autoComplete");var n=o.options;var m=g(p).prev(".coodo-autoComplete-list");m.off(".autoComplete");m.on("click.autoComplete","li",function(r){var q=i(p,g(this).attr("itemValue"));g(p).val(g(this).find(".itemCenter").text());if(o.selectedItem!=q){o.selectedItem=q;n.onSelect.call(this,q)}});m.on("keydown.autoComplete","li",function(){if(e.keyCode==38&&!g(this).prev().length){g(p).focus();return false}})}function c(n,p){var m=g.data(n,"autoComplete").options;var o;if(m.async){o={textVal:g(n).val()}}g.ajax({url:m.url,method:m.method,data:o,dataType:"json",success:function(q){h(n,q);if(p){p(q)}},error:function(q,s,r){m.onLoadError.call(n,q,s,r)}})}function h(p,o){var n=g.data(p,"autoComplete");if(!n){return}var m=g(p).prev();b(p);if(o&&o.length){g.each(o,function(){m.append(a(p,this))});n.data=o}n.options.onLoadSuccess.call(p,o)}function b(m){g(m).val("");g(m).prev().children().remove()}function f(p){var n=g.data(p,"autoComplete").options;var o=g(p).parent(".btn-group");if(!o.length){o=g('<div class="btn-group" style="width: 100%" />');g(p).before(o);var m=g('<ul class="dropdown-menu coodo-autoComplete-list" />').appendTo(o);g(p).appendTo(o);g(p).attr({"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}).addClass("coodo-autoComplete").keydown(function(q){if(q.keyCode==40){g(p).prev().find(".listItem>a:visible").eq(0).focus();return false}}).on("input propertychange",function(q){if(n.async){c(p,function(r){if(!r.length){m.addClass("hide")}else{m.removeClass("hide")}})}else{d(m,g(this).val());m.removeClass("hide");if(!m.find("li:visible").length){m.addClass("hide")}}}).click(function(q){if(g(this).parent().hasClass("open")){q.stopPropagation()}else{if(n.async||!n.autoAppear){m.addClass("hide")}else{d(m,g(this).val())}}})}}function d(m,n){if(g.trim(n).length){m.find(".listItem").show().not('li:has(a:icontains("'+n+'"))').hide()}else{m.find(".listItem").show()}}function a(q,v){var o=g.data(q,"autoComplete");var n=o.options;var r=g.extend({},g.fn.autoComplete.itemDefaults,v);var u=g('<li class="listItem" />').attr("itemValue",r.id||r.text);var p=g('<a href="javascript:void(0);" class="text" />').appendTo(u);var s=g('<i class="itemBefore" />').appendTo(p);var m=g('<span class="itemCenter" />').appendTo(p);var t=r.text;if(r.iconCls){s.addClass(r.iconCls)}if(n.formatter){t=n.formatter(v)}if(t){m.append(t)}return u}function i(p,n){var o=g.data(p,"autoComplete");var m=null;g.each(o.data,function(){if(this.id==n){m=this;return false}});return m}g.fn.autoComplete=function(m,o){if(typeof m=="string"){var p=g.fn.autoComplete.methods[m];if(p){return p(this,o)}}var n=m||{};return this.each(function(){var q=g(this).data("autoComplete");if(q){g.extend(q.options,n)}else{g.data(this,"autoComplete",{options:g.extend({},g.fn.autoComplete.defaults,g.parser.parseOptions(this),n),data:[],selectedItem:null})}j(this)})};g.fn.autoComplete.methods={options:function(m){return g.data(m[0],"autoComplete").options},getData:function(m){return g.data(m[0],"autoComplete").data},loadData:function(n,m){n.each(function(){h(this,m)})},reload:function(m){m.each(function(){c(this)})},getValue:function(n){var m=g.data(n[0],"autoComplete").selectedItem;if(m){return m.id}else{return null}},clear:function(m){m.each(function(){var n=g.data(this,"autoComplete");n.selectedItem=null;g(this).val("")})}};g.fn.autoComplete.defaults={data:undefined,url:undefined,method:"Get",formatter:undefined,height:undefined,async:false,autoAppear:false,onLoadSuccess:function(m){},onLoadError:function(m,o,n){},onSelect:function(m){}};g.fn.autoComplete.itemDefaults={id:undefined,text:"",iconCls:undefined}}(jQuery);+function(b){function l(o){b(o).addClass("coodo-comboArea");h(o);m(o);n(o)}function m(p){var o=b.data(p,"comboArea").options;if(o.width){b(p).width(o.width)}if(o.height){b(p).height(o.height).css("overflow-y","auto")}if(o.data){f(p,o.data)}else{if(o.url){a(p)}}}function n(q){var p=b.data(q,"comboArea");var o=p.options;b(q).off(".comboArea");b(q).on("click.comboArea",function(r){r.stopPropagation();b(this).find(".comboArea-input").focus()});b(q).on("click.comboArea",".areaItem",function(s){s.stopPropagation();var r=k(q,b(this).attr("itemValue"));if(!b(this).hasClass("selectedItem")&&p.selectedItem!=r){b(q).find(".selectedItem").removeClass("selectedItem");b(this).addClass("selectedItem");p.selectedItem=r;o.onSelect.call(this,r)}o.onClick.call(this,r)});b(q).on("dblclick.comboArea",".areaItem",function(r){r.stopPropagation();o.onDblClick.call(this,k(q,b(this).attr("itemValue")))});b(q).on("click.comboArea",".areaItem .close",function(r){r.stopPropagation();j(q,b(this).parent())})}function a(q,o){var p=b.data(q,"comboArea").options;if(o){p.url=o}if(p.url){b.ajax({url:p.url,method:p.method,dataType:"json",success:function(r){f(q,r)},error:function(r,t,s){p.onLoadError.call(q,r,t,s)}})}}function f(r,q){var p=b.data(r,"comboArea");if(!p){return}var o=p.options;i(r);if(q&&q.length){g(r,q);p.data=q}o.onLoadSuccess.call(r,q)}function g(p,o){b.each(o,function(){d(p,this)})}function h(r){var q=b(r).data("comboArea").options;var o=b(r).find("ul.comboArea-ul");if(!o.length){o=b('<ul class="comboArea-ul"/>').appendTo(r)}var p=b(o.find(">.areaItemOther"));if(!p.length){p=b('<li class="areaItemOther" />').appendTo(o)}if(!q.disabledInput){if(!p.find(">.comboArea-input").length){var s=8;b('<input class="comboArea-input" tabindex="-1" />').attr("size",s).keypress(function(t){if(t.keyCode=="13"){c(r,{text:b(this).val()});b(this).val("").attr("size",s).focus()}}).keydown(function(t){if(this.value.length>s){b(this).attr("size",this.value.length+3)}else{b(this).attr("size",s)}}).blur(function(){c(r,{text:b(this).val()});b(this).val("").attr("size",s)}).appendTo(p).focus()}}else{p.find(">.comboArea-input").remove()}}function d(t,x){var p=b.data(t,"comboArea");var o=p.options;var r=b.extend({},b.fn.comboArea.itemDefaults,x);var s=b(t).find(">.comboArea-ul");var w=s.find('.areaItem .itemText:contains("'+r.text+'")');if(w.length){return false}var q=b('<li class="areaItem" />').attr("itemValue",r.id||r.text).insertBefore(s.find(".areaItemOther"));var v=b('<span class="itemText"/>').appendTo(q);var u=r.text||"";if(o.formatter){u=o.formatter.call(v,u,r)}v.append(u);if(o.closable){b('<i class="close">&times;</i>').appendTo(q)}p.data.push(x);return true}function j(q,s){var p=b.data(q,"comboArea");var r=s.attr("itemValue");var o;b.each(p.data,function(t){if(r==(this.id||this.text)){o=this;p.data.splice(t,1);return false}});s.remove();p.options.onRemove.call(q,o)}function c(q,o){var p=b.data(q,"comboArea");if(!b.trim(o.text)){return}if(d(q,o)){p.options.onAppend.call(q,o)}}function k(q,r){var p=b.data(q,"comboArea").data;var o=null;b.each(p,function(){if(this.id==r){o=this;return false}});return o}function i(p){var o=b.data(p,"comboArea");o.data=[];b(p).find(".areaItem").remove();b(p).find(".areaItemOther>.comboArea-input").val("").focus()}b.fn.comboArea=function(o,q){if(typeof o=="string"){var r=b.fn.comboArea.methods[o];if(r){return r(this,q)}}var p=o||{};return this.each(function(){var s=b(this).data("comboArea");if(s){b.extend(s.options,p)}else{b.data(this,"comboArea",{options:b.extend({},b.fn.comboArea.defaults,b.parser.parseOptions(this),p),data:[],selectedItem:null})}l(this)})};b.fn.comboArea.methods={options:function(o){return b.data(o[0],"comboArea").options},getData:function(o){return b.data(o[0],"comboArea").data},loadData:function(p,o){p.each(function(){f(this,o)})},reload:function(p,o){p.each(function(){a(this,o)})},append:function(p,o){p.each(function(){c(this,o)})},remove:function(p,o){p.each(function(){var q=this;b(this).find(".areaItem[itemValue='"+o+"'],.areaItem:has(>.itemText:contains('"+o+"'))").each(function(){j(q,b(this))})})},clear:function(o){o.each(function(){i(this)})}};b.fn.comboArea.defaults={url:undefined,method:"Get",data:undefined,width:undefined,height:undefined,closable:true,disabledInput:false,formatter:undefined,onLoadSuccess:function(o){},onLoadError:function(o,q,p){},onClick:function(o){},onDblClick:function(o){},onSelect:function(o){},onAppend:function(o){},onRemove:function(o){}};b.fn.comboArea.itemDefaults={id:undefined,text:""}}(jQuery);+function(c){function l(o){c(o).addClass("coodo-layout");n(o);m(o);b(o);i(o);c(window).resize(function(p){c.each(c(".coodo-layout"),function(){var r=c(this);var t=r.parent();var q=(r.is("body")?p.target.innerWidth||p.target.documentElement.offsetWidth-4:r.width(t.width())&&t.width());var s=(r.is("body")?p.target.innerHeight||p.target.documentElement.offsetHeight:r.height(t.height())&&t.height());j(r,q,s);g(r);i(r,q,s)})})}function n(q){var p=c(q).data("layout").options;if(p.border){c(q).addClass("coodo-border")}var o=c(q);var r=o.parent();if(!o.is("body")){if(h(o)==0){o.width(r.width())}if(d(o)==0){o.height(r.height())}r.addClass("nesting-layout")}}function m(s){var t=c(s).children('div[region="north"]');var p=c(s).children('div[region="west"]');var o=c(s).children('div[region="center"]');var r=c(s).children('div[region="east"]');var q=c(s).children('div[region="south"]');c(s).prepend(q).prepend(r).prepend(o).prepend(p).prepend(t)}function i(L,p,B){var C=c(L).data("layout").options;var H=c(L).find('>div[region="north"]');var t=c(L).find('>div[region="west"]');var x=c(L).find('>div[region="east"]');var A=c(L).find('>div[region="south"]');var K=c(L).find('>div[region="center"]');var F=0,w=0,u=null,v=null;var z=50,E=50,q=K.outerHeight(),J=K.outerWidth();if(H.filter('[split="true"]').length){q+=H.outerHeight();var M=H.outerHeight();var y=c(L).find(">.north-split");if(!y.length){y=c('<div class="coodo-layout-split north-split"/>').width(H.outerWidth()).height(3)}y.drag({axis:"v",cursor:"row-resize",onDrag:function(N){if(N.data.top-H.offset().top<z){N.data.top=H.offset().top+z}if(N.data.top-H.offset().top>(K.outerHeight()+H.outerHeight()-z)){N.data.top=H.offset().top+K.outerHeight()+H.outerHeight()-z}H.css("height",N.data.top-H.offset().top);F=N.data.top-H.offset().top-M;u=c(L).find('>div[region="west"],>div[region="center"],>div[region="east"]');u.css("height",K.outerHeight()-F);c(L).find(">.west-split").height(K.outerHeight()).offset({top:N.data.top});c(L).find(">.east-split").height(K.outerHeight()).offset({top:N.data.top});M=H.outerHeight();C.onMove.call(L,H,this)}}).appendTo(L);y.offset({left:H.offset().left,top:H.offset().top+H.height()})}if(t.filter('[split="true"]').length){J+=t.outerWidth();var G=t.outerWidth();var D=c(L).find(">.west-split");if(!D.length){D=c('<div class="coodo-layout-split west-split"/>').width(3).height(t.outerHeight())}D.drag({axis:"h",cursor:"col-resize",onDrag:function(N){if(N.data.left-t.offset().left<E){N.data.left=t.offset().left+E}if(N.data.left-t.offset().left>(K.outerWidth()+t.outerWidth()-E)){N.data.left=t.offset().left+K.outerWidth()+t.outerWidth()-E}t.css("width",N.data.left-t.offset().left);w=N.data.left-t.offset().left-G;K.css("width",K.outerWidth()-w);G=t.outerWidth();C.onMove.call(L,t,this)}}).appendTo(L);D.offset({left:t.offset().left+t.width(),top:t.offset().top})}if(x.filter('[split="true"]').length){J+=x.outerWidth();var s=x.offset().left;var r=c(L).find(">.east-split");if(!r.length){r=c('<div class="coodo-layout-split east-split"/>').width(3).height(x.outerHeight())}r.drag({axis:"h",cursor:"col-resize",onDrag:function(N){if(p){J=p}if(N.data.left<K.offset().left+E){N.data.left=K.offset().left+E}if(N.data.left>J-E){N.data.left=J-E}w=N.data.left-s;x.css("width",x.outerWidth()-w);K.css("width",K.outerWidth()+w);s=x.offset().left;C.onMove.call(L,x,this)}}).appendTo(L);r.offset({left:x.offset().left,top:x.offset().top})}if(A.filter('[split="true"]').length){q+=A.outerHeight();var I=A.offset().top;var o=c(L).find(">.south-split");if(!o.length){o=c('<div class="coodo-layout-split south-split"/>').width(A.outerWidth()).height(3)}o.drag({axis:"v",cursor:"row-resize",onDrag:function(N){if(B){q=B}if(N.data.top<K.offset().top+z){N.data.top=K.offset().top+z}if(N.data.top>q-z){N.data.top=q-z}F=N.data.top-I;A.css("height",A.outerHeight()-F);u=c(L).find('>div[region="west"],>div[region="center"],>div[region="east"]');u.css("height",K.outerHeight()+F);c(L).find(">.west-split").height(K.outerHeight());c(L).find(">.east-split").height(K.outerHeight());I=A.offset().top;C.onMove.call(L,A,this)}}).appendTo(L);o.offset({left:A.offset().left,top:A.offset().top})}}function g(s){var o=c(s).find(">div.north-split");var w=c(s).find(">div.west-split");var q=c(s).find(">div.east-split");var u=c(s).find(">div.south-split");if(o.length){var p=c(s).find('>div[region="north"]');o.width(p.outerWidth());o.offset({left:p.offset().left,top:p.offset().top+p.height()})}if(w.length){var v=c(s).find('>div[region="west"]');w.height(v.outerHeight());w.offset({left:v.offset().left+v.width(),top:v.offset().top})}if(q.length){var t=c(s).find('>div[region="east"]');q.height(t.outerHeight());q.offset({left:t.offset().left,top:t.offset().top})}if(u.length){var r=c(s).find('>div[region="south"]');u.width(r.outerWidth());u.offset({left:r.offset().left,top:r.offset().top})}}function j(v,t,o){var q=c(v).data("layout");var s=c(v).children('div[region="north"]');var y=c(v).children('div[region="west"]');var p=c(v).children('div[region="center"]');var w=c(v).children('div[region="east"]');var u=c(v).children('div[region="south"]');var r=t;var x=o;if(s.length){s.outerWidth(t);x-=s.outerHeight()}if(u.length){u.outerWidth(t);x-=u.outerHeight()}if(y.length){y.outerHeight(x);r-=y.outerWidth()}if(w.length){w.outerHeight(x);r-=w.outerWidth()}p.outerWidth(r);p.outerHeight(x);q.cWidth=t;q.cHeight=o}function b(E){var s=c(E).data("layout");var z=c(E).parent();var C=(c(E).is("body")?c(window).width():c(E).width(z.width())&&z.width());var q=(c(E).is("body")?c(window).height():c(E).height(z.height())&&z.height());var B=c(E).children('div[region="north"]').addClass("coodo-layout-north");var t=c(E).children('div[region="west"]').addClass("coodo-layout-west");var D=c(E).children('div[region="center"]').addClass("coodo-layout-center");var v=c(E).children('div[region="east"]').addClass("coodo-layout-east");var x=c(E).children('div[region="south"]').addClass("coodo-layout-south");var y=q;var r=C;var u=q*0.2;var w=C*0.2;if(B.length){B.width(C-f(B));var F=d(B);if(F>0){y-=F}else{B.height(u-k(B));y-=u}}if(x.length){x.width(C-f(x));var p=d(x);if(p>0){y-=p}else{x.height(u-k(x));y-=u}}if(t.length){t.height(y-k(t));var A=h(t);if(A>0){r-=A}else{t.width(w-f(t));r-=w}}if(v.length){v.height(y-k(v));var o=h(v);if(o>0){r-=o}else{v.width(w-f(v));r-=w}}D.width(r-f(D));D.height(y-k(D));s.cWidth=C;s.cHeight=q}function f(o){return(+o.css("border-left-width").replace("px","")||0)+(+o.css("border-right-width").replace("px","")||0)}function k(o){return(+o.css("border-top-width").replace("px","")||0)+(+o.css("border-bottom-width").replace("px","")||0)}function h(q){var o=0;var p=q.attr("style");if(p&&p.toLowerCase().indexOf("width")>-1){o=q.outerWidth()}return o}function d(q){var p=0;var o=q.attr("style");if(o&&o.toLowerCase().indexOf("height")>-1){p=q.outerHeight()}return p}function a(q,o,p){c(q).css({width:o,height:p});j(q,o,p);g(q);i(q,o,p);c(q).find(".coodo-layout").each(function(){var s=c(this);var u=s.parent();var r=(s.is("body")?e.target.innerWidth:s.width(u.width())&&u.width());var t=(s.is("body")?e.target.innerHeight:s.height(u.height())&&u.height());j(s,r,t);g(s);i(s,r,t)})}c.fn.layout=function(o,q){if(typeof o=="string"){var r=c.fn.layout.methods[o];if(r){return r(this,q)}}var p=o||{};return this.each(function(){var s=c(this).data("layout");if(s){c.extend(s.options,p)}else{c.data(this,"layout",{options:c.extend({},c.fn.layout.defaults,c.parser.parseOptions(this),p),cWidth:0,cHeight:0,panels:{north:c(),center:c(),west:c(),east:c(),south:c()}})}l(this)})};c.fn.layout.methods={options:function(o){return c.data(o[0],"layout").options},resize:function(p,o){a(p[0],o.width,o.height)}};c.fn.layout.defaults={border:true,onMove:function(p,o){}}}(jQuery);